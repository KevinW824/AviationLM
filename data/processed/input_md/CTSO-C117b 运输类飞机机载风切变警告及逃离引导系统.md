 
中国民用航空技术标准规定 
 
本技术标准规定根据中国民用航空规章《民用航空材料、零部件和机载设备技术
标准规定》
(CCAR37)颁发。中国民用航空技术标准规定是对用于民用航空器上的
某些航空材料、零部件和机载设备接受适航审查时,必须遵守的准则。 

## 运输类飞机机载风切变警告及逃离引导系统 1. 目的

本技术标准规定(CTSO)适用于为运输类飞机机载风切变警告
及逃离引导系统申请技术标准规定项目批准书(CTSOA)的制造人。
本CTSO 规定了运输类飞机机载风切变警告及逃离引导系统为获得 批准和使用适用的CTSO 标记进行标识所必须满足的最低性能标准
(MPS)
。该CTSO 定义了在遇到风切变时,提供风切变警告和逃离
引导指令的系统性能、
功能和特征。
它不适用于在遇到风切变现象前
预知风切变情况的系统,也不适用于使用大气和/或其他数据来预测
风切变告警可能性的系统。 
本CTSO 附录1 描述了用于运输类飞机机载风切变警告及逃离引
导系统的MPS;附录2 描述了用于评估风切变警告及逃离引导系统
性能的风场模型;
附录3 描述了附录2 中的速度方程到直角坐标的转
换;附录4 包含定义用于进行风切变警告试验的Dryden 湍流模型和
离散阵风模型的数据;
附录5 描述了切变强度;
附录6 提供了一个简
化飞机仿真模型的计算机示例清单,用于评估各种引导方案的有效
性。 

## 2. 适用范围

本CTSO 适用于自其生效之日起提交的申请。 

a.自本CTSO 生效之日起,欲获得运输类飞机机载风切变警告
及逃离引导系统CTSOA 的申请人,应按照本CTSO 提交申请。但如
果自本CTSO 生效之日起六个月内,
申请人能够向局方表明在新版本
生效前一直按照以前版本的最低性能标准进行研制,
可以按以前版本
的CTSO 提交申请。 
b. 自本CTSO 生效之日起,
按以前版本CTSO 获得CTSOA 的设
备可以按批准时的规定继续制造。 
c. 按本CTSO 批准的设备,其设计大改应按CCAR-21-R4 第
21.353 条要求重新申请CTSOA。 

## 3. 要求

在本CTSO 生效日期或之后识别和制造的机载风切变警告和逃
离引导系统的新型号必须符合附录1 中规定的MPS 条件和文件要求。
 

## A.功能

CTSO 的标准适用于在遇到风切变现象时识别风切变存在的设
备,
并为飞行员提供及时的警告和足够的飞行指引,
以提高逃离风切
变的概率。 

## B. 失效状态类别

(1)本CTSO 第3.a 节定义的功能失效可导致未通告的异常或
未探测到风切变,属重大的失效状态。 
(2)本CTSO 第3.a 节定义的功能丧失属微小的失效状态。 
(3)设备研制保证等级应至少与这种失效状态类别相对应。 
c. 功能鉴定  
应按本CTSO 附录1 试验条件表明设备性能满足要求。 
d. 环境鉴定 应按附录1 第4.c 节中试验条件,采用该设备适用的标准环境条
件和试验程序表明设备性能满足要求。申请人可采用除
RTCA/DO-160G 以外其它适用于机载风切变警告和逃离引导系统的
标准环境条件和试验程序,表明设备满足最低性能标准要求的性能。
 

注:
 通常情况下,
       RTCA/DO-160D
              (包括Change 1 和Change 2)

或早期版本不再适用,
         如果使用该版本则需按照本CTSO 第3.g 节中

的偏离要求进行证明。 

e. 软件鉴定 
如果设备包含软件,
则软件应按照RTCA/DO-178C
《机载系统和
设备合格审定中的软件考虑》
(2011.12.13)
及其适用的补充材料进行
研制。软件的研制保证等级应与本CTSO 第3.b 节规定的失效状态类
别一致。
也可按照RTCA/DO-178B
《机载系统和设备合格审定中的软
件考虑》
(1992.12.1)的要求进行研制。 

f. 电子硬件鉴定 
如果设备中包含复杂电子硬件,则应按照RTCA/DO-254《机载
电子硬件设计保证指南》
(2000.4.19)的要求进行研制。硬件的研制
保证等级应与本CTSO 第3.b 节规定的失效状态类别一致。对于确定
为简单的机载电子硬件,
可按RTCA/DO-254 中第1.6 节的要求处理。
 
g. 偏离 如果采用替代或等效的符合性方法来满足本CTSO 规定的最低
性能标准要求,
则申请人必须表明设备保持了等效的安全水平。
申请
人应按照CCAR-21-R4 第21.368 条(一)要求申请偏离。 

## 4. 标记

a. 至少应为一个主要部件设置永久清晰的标记,标记应包括
CCAR-21-R4 第21.423 条(二)规定的所有信息。标记必须包含设备 序列号。 
b. 如果设备中包含软件和/或机载电子硬件,则件号必须能够表
明软件和硬件的构型。件号编排时,在件号中可为硬件、软件和机载
电子硬件各划分一个单独区域。 
c. 可以使用电子标记标识软件和机载电子硬件,此标记可通过
软件写入硬件部件内部,
而不用将其标识在设备铭牌中。
如果使用电
子标记,则其必须容易读取,无需使用特殊工具或设备。 

## 5. 申请资料要求

申请人必须向负责该项目审查的人员提交相关技术资料以支持
设计和生产批准。提交资料包括CCAR-21-R4 第21.353 条(一)1
规定的符合性声明和以下资料副本。 

a. 手册。包含以下内容: 
(1)运行说明和设备限制,该内容应对设备运行能力进行充
分描述。 

(2)对所有偏离的详细描述。 
(3)
安装程序和限制。
必须确保按照此安装程序安装设备后,
设备仍符合本CTSO 的要求。
限制必须确定任何特殊的安装要求,
还
必须以注释的方式包含以下声明: 
"本设备满足技术标准规定中要求的最低性能标准和质量控制
标准。如欲在飞机上安装此设备,必须获得单独的安装批准。
" 
(4)对于所有软件和机载电子硬件构型,包括如下内容: 

(i)软件件号,包括版本和研制保证等级; 
(ii)机载电子硬件件号,包括版本和研制保证等级; 
(iii)功能描述。  
(5)设备中每个部件进行环境鉴定的试验条件总结。例如,
可采用RTCA/DO-160G《机载设备环境条件和试验程序》附录A 的
表格方式描述。 

(6)原理图、布线图,以及设备安装所必需的其它文件。 
(7)设备的可更换部件清单(注明件号)
。如适用,包括对供
应商件号的交叉索引。 
b. 持续适航文件,包含设备周期性维护、校准及修理要求。如
适用,应包括建议的检查间隔和使用寿命。 
c. 如果设备包含软件,
则还应提供:
软件合格审定计划
(PSAC)
、
软件构型索引和软件完结综述。 
d. 如果设备包含简单的或复杂电子硬件,还应提供:硬件合格
审定计划(PHAC)
、硬件验证计划、顶层图纸和硬件完结综述(或
相似文件,如适用)
。 
e. 铭牌图纸,规定设备如何标识本CTSO 中第4 节所要求的标
记信息。 
f. 确定设备中所包含而未按照本CTSO第3 节进行评估的功能或
性能(即:非CTSO 功能)
。在获得CTSOA 的同时非CTSO 功能也
一同被接受。接受这些非CTSO 功能,申请人必须声明这些功能,并
在CTSO 申请时提供以下信息: 
(1)非CTSO 功能的描述,如性能规范、失效状态类别、软
件、
硬件以及环境鉴定类别。
还应包括一份确认非CTSO 功能不会影
响设备对本CTSO 第3 节要求符合性的声明。 
(2)安装程序和限制,能够确保非CTSO 功能满足第5.f.(1)
节所声明的功能和性能规范。 

(3)第5.f.(1)节所描述非CTSO 功能的持续适航要求。 
(4)接口要求和相关安装试验程序,以确保对第5.f.(1)节性
能资料要求的符合性。 

(5)
(如适用)
试验大纲、
试验分析和试验结果,
以验证CTSO
设备的性能不会受到非CTSO 功能的影响。 

(6)
(如适用)试验大纲、试验分析和试验结果,以验证第
5.f.(1)节描述的非CTSO 功能的功能和性能。 
g. 按CCAR-21-R4 第21.358 条要求提供质量系统方面的说明资
料,
包括功能试验规范。
质量系统应确保检测到可能会对CTSO 最低
性能标准符合性有不利影响的任何更改,并相应地拒收该产品。 

h. 材料和工艺规范清单。 
i. 定义设备设计的图纸和工艺清单(包括修订版次)
。 
j. 制造人的CTSO 鉴定报告,表明按本CTSO 第3.c 节完成的试
验结果。 

## 6. 制造人资料要求

除直接提交给局方的资料外,还应准备如下技术资料供局方评
审: 

a. 用来鉴定每件设备是否符合本CTSO 要求的功能鉴定规范; 
b. 设备校准程序; 
c. 原理图; 
d. 布线图; 
e. 材料和工艺规范; f. 按本CTSO 第3.d 节要求进行的环境鉴定试验结果; 
g. 如果设备包含软件,提供RTCA/DO-178B 或RTCA/DO-178C
中规定的相关文档,
包括所有支持RTCA/DO-178B 或RTCA/DO-178C
附件A"软件等级的过程目标和输出"中适用目标的资料; 
h. 如果设备包含复杂电子硬件,
应提供RTCA/DO-254 附录A 表
A-1 中定义的与研制保证等级和硬件生命周期相关的资料。对于简单
电子硬件,应提供以下资料:测试用例或程序,测试结果,测试覆盖
率分析,工具评估和鉴定资料,构型管理记录并包含问题报告。 
i. 如果设备包含非CTSO 功能,必须提供第6.a 节至第6.h 节与
非CTSO 功能相关的资料。 

## 7. 随设备提交给用户的资料要求

a. 如欲向一个机构(例如运营人或修理站)提交一件或多件按
本CTSO 制造的设备,则应随设备提供本CTSO 第5.a 节和第5.b 节
的资料副本,以及设备正确安装、审定、使用和持续适航所必需的资
料。 
b. 如果设备包含已声明的非CTSO 功能,则还应包括第5.f.(1)
节至第5.f.(4)节所规定资料的副本。 
c.

如果设备包含软件,
包括一份开放问题报告(OPR)摘要给型号
审定、补充型号审定或更改型号审定设计批准持有人。 

## 8. 引用文件

a.RTCA 文件可从以下地址订购: 
Radio Technical Commission for Aeronautics, Inc. 1150 18th Street NW, Suite 910, Washington D.C. 20036 也可通过网站www.rtca.org 订购副本。 

## 附录1 运输类飞机机载风切变警告及逃离引导系统的最低性能 标准 1 目的

本附录规定了运输类飞机机载风切变警告和逃离引导系统的最
低性能标准(MPS)。 

## 2 范围

本附录的范围是为运输类飞机机载风切变警告和逃离引导系统
提供最低性能标准。此处引用的所有段落仅在本附录中引用。 
该CTSO 仅适用于通过探测超过其阈值的环境来识别风切变现
象的风切变警告系统。
除风切变警告标准之外,
该CTSO 还为具有可
选择风切变戒备告警能力的系统提供了适用标准。
风切变逃离引导用
于帮助飞行员在遇到此种现象时获得预期的飞行路线。 

## 3 术语的定义

(1)机载风切变警告系统 是指利用各种传感器输入来确定已
经进入风切变环境并及时给飞行员提供警告的设备或系统。
该系统包
括风切变警告和戒备告警。
此类警告装置不会给飞行员提供逃离引导
信息来满足警告及飞行引导系统的标准。 
(2)机载风切变警告及逃离引导系统 是指利用各种传感器输
入来确定已经进入风切变环境并及时给飞行员提供警告和适当的飞
行引导,
以提高逃离风切变概率的设备或系统。
该系统包括风切变警
告和戒备告警。 
(3)机载风切变自动恢复系统 是指将飞机的自动驾驶仪和/或
自动油门系统与机载风切变飞行引导系统相集成或连接的设备或系
统。 
(4)
机载风切变逃离引导系统 是指一旦遇到风切变现象便给全
体机组人员提供飞行引导信息,以提高逃离风切变概率的系统。 
(5)失效 是指系统、子系统、单元或部件在之前规定的限度内
无法运行。 
(6)
虚假警告或戒备 是指系统没有超过设计的风切变警告或戒
备门限而发生警告或戒备告警。 
(7)
干扰警告或戒备 是指遇到湍流等现象,
但实际上由于持续
的风切变量级的后续变化,飞机并未受其危及而发生警告或戒备告
警。 
(8)
恢复程序 是指利用垂直飞行路线控制技术从意外遭遇的风
切变中最大可能性地恢复。 
(9)
强风切变 是指风切变的强度和持续时间超过某一类特定飞
机的性能,
若飞行员没有从符合此CTSO 的机载风切变警告及逃离引
导系统中获取有效信息,就很可能导致意外失控或与地面失去联系。
 
(10)风切变戒备告警 是指某一风切变等级设置的性能条件增
加而触发告警,要求全体机组人员立即意识到以及可能的后续校正。
 
(11)风切变警告告警 是指某一风切变等级设置的性能条件减
少而触发告警,要求飞行员立即校正。 

## 4 通用要求

除本CTSO 主体部分包含的性能要求外,
下列一般要求和设备特
性定义如下: 

a. 通用标准: 所有风切变警告及逃离引导系统必须符合下列通
标准: 
(1) 
适航性 机载设备的设计及生产须提供安装材料,以确保其
不影响飞机的适航性要求。
材料应通过历史数据和/或测试表
明在飞机系统中使用是适合且可靠的。
工艺需符合高品质的
飞机机电和电子元件生产规范。 
(2) 
综合性能 设备必须能够实现制造商规定的预期功能。 
(3) 
耐火性 除不易引起火势传播的细小零件(如按钮、扣件、
封口、索环和细小的电器零件)之外,所有使用的材料应具
备自动灭火性能。 
(4) 
控制器操作 用于飞行过程中的控制器必须减少误操作,并
且任何组合与顺序操作在当前或后续都不会影响设备持续
运行。 
(5) 
控制器可接触性 在飞行过程中不经常操作的控制器必须安
装在操作人员不易接近的地方。 
(6) 
接口 与其他飞机设备的接口的设计要确保正常的或异常的
风切变警告及逃离引导设备的操作不会对其他设备的操作
产生不利影响。 
(7) 
部件的兼容性 若某个系统部件是单独可接受的,但是需要
校准调整或与飞机的其他部件相匹配来完成正确操作,
须通
过一种方法说明其能确保性能符合该CTSO 规定的要求。 

(8) 
可互换性 生产零件号相同的系统部件应当能完全互换。 
(9) 
控制器/显示器性能 一个合适的接口必须具备数据输入、数
据输出及设备运行的控制。
控制器/显示器必须满足可单人单
手操作。 
(10) 
控制器/显示器可读性 设备的设计须确保在驾驶员座舱的
光照条件范围从完全黑暗到有反射阳光的环境下所有显示 器和控制器可读,布局要便于设备的使用。安装说明书应包
含设备安装的限制以确保显示器的可读性。 
(11) 
测试的影响 设备的设计要确保使用规定的测试程序不会
损坏设备的性能,除特别允许的情况之外。 
(12) 
设备计算响应时间 设备应采用适当的探测及逃离信息计
算和显示的更新率。 
(13) 
辅助加热或冷却 若系统部件需要辅助加热或冷却以确保
符合该CTSO 的要求,
设备制造商应在安装说明书中对此规
定。 
(14) 
自检能力 设备须使用自检功能验证系统是否正常。 
  (i)
手动自检模式在完成一次成功的测试之后都必须自动
返回正常工作模式。 
  (ii)若自动启动的自检必须告知飞行员该工作模式,例
如:开启信号灯、语音或现实引导指令。 
  (iii)进行系统自检须确保不对其他飞机系统的运行性能
造成不利影响。 

          (iv)若系统没有成功通过自检必须告知其失效。 
(15) 
警告及逃离引导功能的独立性 不论警告及引导功能是在
集成系统中还是单独系统中,都必须具备足够的独立性,以 确保其中任何一个系统失效时不会妨碍或抑制另一个系统 的信息显示。
警告系统失效须确保不会导致模糊的或错误的
引导系统模式指示。 
(16) 
系统可靠性 
(i)
在风切变警告系统或风切变警告及逃离引导系统内每飞
行小时发生虚警的可能性必须低于
-4
1 10
×
。 
(ii)风切变警告系统或风切变警告及逃离引导系统每飞行
小时出现未通告失效的可能性必须低于
-5
1 10
×
。 
b. 设备功能要求-标准条件 
设备必须符合下列功能要求: (1) 
模式指示 风切变逃离引导显示工作模式必须在风切变过程
中启动逃离引导并在转换到不同的飞行模式前告知飞行员。
 
(2) 
异常/失效指示 设备必须能显示以下情况: 
(i)主电源不足或缺乏 (ii)设备失效 (iii)不足或无效的警告及引导显示和输出信号 (iv)不足或无效的传感器信号及信号源 
以上异常/失效指示必须独立于任何操作人员的操作。无法确保
符合此CTSO 的情况下,
应告知缺乏足够的警告显示、
逃离引导信息
或传感器信号及信号源。 

(3) 
风切变戒备告警 若设备包括风切变戒备告警: 
(i)
必须提供与图1 所示的切变强度曲线一致的上升性能切
变(上升气流、增加的逆风或减少的顺风)的通告。 
(ii)该戒备告警必须显示一个专门的琥珀色戒备通告或为
显示提供相应的输出。语音告警作为选择予以提供。必须保 持戒备显示(或输出)直到门限风切变条件不再存在(最小
值不低于3 秒)或发生风切变警告告警。 
(iii)应确保阵风状况不会引起干扰戒备告警。应确保湍流
不会在每250 个系统工作小时(或基于1 小时/飞行周期的
3000 个飞行周期)内发生一次以上的干扰戒备告警。 
(4) 
风切变警告告警 
(i)
风切变警告告警必须提供与图1 所示的等于或高于切变
强度的下降性能切变
(下降气流、
减少的逆风或增加的顺风)
的通告。 
(ii)该警告告警必须显示一个专门的"风切变"红色警告
通告或为显示提供相应的输出。
视觉告警至少应保持至门限
风切变条件不再存在或至少3 秒,两者取大者。
"风切变"
通告的语音告警必须提供三个告警周期。
在相同的工作模式
中,语音告警不需要重复后续风切变警告告警。 
(iii)应确保阵风状况不会引起干扰警告告警。应确保湍流
不会在每250 个系统工作小时(或基于1 小时/飞行周期的
3000 个飞行周期)内发生一次以上的干扰警告告警。 

(5) 
提高进近灵敏度和降低起飞灵敏度模式下的风切变告警 
(i)提高进近灵敏度模式。如果系统分为进近和起飞场景,可
以在进近模式中降低切变强度级别,
以增加及时提供风切变
告警的概率。你可以降低切变强度等级,告警曲线在图1 中
从0.105 降低到0.090。
如果要降低,
也可以修改第4.d.(7).(ii)
段中的湍流抑制试验,
使本区域的告警不致使湍流抑制试验
的失败。 (ii)降低起飞灵敏度模式。如果系统分离了进近和起飞场景,
那么系统在可能会对起飞模式不敏感,
为减少不必要的告警
的可能性,可以提高切变强度等级,告警等级曲线在图1 中
从0.105 提高到0.120。 
(iii) 额外降低起飞灵敏度模式。
一些高性能喷气式飞机在起
飞后,在大气风梯度中以很高的速度爬升时,会收到不必要 的风切变告警。
如果飞行员对这些不需要的风切变告警不敏
感,可以在图1 中调整切变强度的等级,以在以下条件下减
少这些不需要的告警: 
(a) 运输类飞机机载风切变警告及逃离引导系统可以
确定飞机是在起飞阶段还是进近阶段。 
(b)飞机正在以很高的速度爬升,也将继续以很高的速
度爬升,爬升的速度对不必要的风切变告警产生是预知的。
 
(c)飞机功率设置在或接近于代表起飞段最大推力的水
平,例如最大起飞推力。 
(d)图1 的切变强度必须告警曲线,起飞后必须符合。 

(6) 
告警优先级 要优先告警的系统有:风切变警告和逃离引导
系统(反应式风切变)
、前视风切变系统、地形感知和警告
系统、地面近地警告系统、交通防撞系统,或在可能同时出 现语音通告的地方,必须实施排序,以确保反应式风切变警 告告警最先出现或通告。
与地形感知和警告或地面近地警告
系统告警相比,反应式风切变戒备告警具有较低的优先级。
 
(7) 
如果前视风切变系统正在运行,
应关闭反应式风切变系统戒
备告警。如果前视风切变系统不工作,发出反应式风切变戒
备告警是可以接受的。 
(8) 
工作高度范围 设计的系统运行高度必须至少在地平面之上
(AGL)50~1000 英尺。 
(9) 
风切变逃离引导 飞行引导算法包含下列设计注意事项: 
(i)
接近系统警告门限时,
飞机的可用能量必须通过具有代
表性的多个风场条件进行适当管理。
这些条件必须单独以及
综合考虑横轴和纵轴上的有效切变分量。 
(ii)飞行路线引导指令必须适合安装该系统的飞机类型的
动态响应。 
(iii)若切变分量的量级超过了飞机性能,引导指令必须确
保地面碰撞发生在不会产生额外升力、
没有过多动能且不会
使飞机进入失速状态的情况下。 
(iv)
飞行引导指令信息必须提供主飞行显示器/姿态指引仪
(PFD/ADI)及其他平视显示器(HUD)的介绍。 
(v)控制飞行路线和俯仰姿态的飞行引导显示器必须限制
在与发生失速警告或最大俯仰指令27°
(以较小值为准)
相
等的范围内。 
(vi)飞行引导指令及任何自动恢复模式(若包含)可能在
发生风切变警告告警的同时或在其之后自动启动,
也可手动
选定。若使用手动选择,只能通过起飞-复飞(TOGA)开关
或其他相同的方法
(即节流器位置的功能和其他发动机参数
等)
。 
(vii)手动取消选定风切变飞行引导及任何自动恢复模式
(若包含)必须可通过除了TOGA 开关之外的方法实现。 
(viii)集成了从风切变逃离引导转变到另一种飞行引导模
式的飞行引导指令的自动恢复系统必须提供平稳的模式转 变。
飞行引导指令显示直至手动将其取消选定或飞机在警告
条件下保持正爬升率且最少持续30 秒高于1.3Vsl 速度才能
消除。 

## 图1 切变强度曲线

fav,x = 在tx 时刻引起警告的平均切变强度(导致20 海里/小时的风速
改变,范围如图所示;适用于水平的、垂直的以及两者相结合
的切变强度) 
x t f (t)d
0
= 
t
∫
,其中f(t)=在t 时刻的瞬时切变强度 
t x
① 分别利用从告警阈值试验来的Dryden 湍流模型和离散阵风模
型告警阈值试验进行干扰警告试验,
以验证由于湍流或阵风引起的潜
在干扰警告的可接受性。 

## C.设备性能-环境条件

(1)本款所述的环境试验和性能要求,旨在提供一种实验室的
手段,
在能够代表实际运行中可能遇到的情况的条件下确定设备的总
体性能特征。表1 定义了设备所需的环境试验。它显示DO-160G 中
描述单个环境试验的节号。除非制造商希望设备符合特定的环境条
件,否则本小节所包含的一些环境试验不需要进行。这些试验由表1
中的词语"必要时"标识。如果制造商希望使设备符合这些额外的环
境条件,则必须"必要时"进行这些试验。 
(2)环境要求:必须在环境条件下满足下列性能要求子集。此
外,在DO-160G 的环境条件下,所有系统控制、显示、输入和输出
都必须执行其预期功能。 
(i)章节4.(b)(1)-模式通告 

(ii)章节4.(b)(2)-异常/失效指示 (iii)章节4.(b)(3)-风切变戒备告警,除4.(b)(3)(iii)外 (iv)章节4.(b)(4)-风切变警告告警,除4.(b)(4)(iii)外 (v)章节4.(b)(5)-提高进近灵敏度和降低起飞灵敏度模式
下的风切变告警 
(vi)章节4.(b)(9)-风切变逃离引导 
对图1 中下列切变强度(fav,x)和暴露时间(sec)进行环境合格试验:
0.1050, 10; 0.1748, 6 和0.2100, 5。
确保系统在需要时生成并显示告警。
如果系统设计不影响环境条件下的性能,
那么就可以在所有环境试验
中使用一个具有代表性的风切变波形。
环境条件下不需要进行阵风和
湍流抑制试验。 
 

## 表1 按类别要求进行的Do-160G 实验

环境试验 
DO-160G 章节 
是否需要试验 
温度和高度 
4 
 
高快速工作温度 
 
√ 
低工作温度 
 
√ 
低快速工作温度 
 
√ 
高工作温度 
 
√ 
飞行中丧失冷却功能 
 
必要时 
高度 
 
√ 
降压 
 
必要时 
升压 
 
必要时 
温度变化 
5 
√ 
湿度 
6 
√ 
冲击 
7 
 
运行冲击 
 
√ 
防撞安全冲击 
 
√ 
振动 
8 
√ 
防爆 
9 
必要时 
防水 
10 
 
防滴漏 
 
必要时 
防喷射 
 
必要时 
防连续流 
 
必要时 
冷凝 
 
必要时 
流体敏感度 
11 
 
喷射 
 
必要时 
浸没 
 
必要时 
沙尘 
12 
必要时 
防霉 
13 
必要时 
盐雾 
14 
必要时 
磁效应 
15 
√ 
电源输入 
16 
 
正常工作条件 
 
√ 
异常工作条件 
 
√ 
负载设备对飞机电源系统的影响
 
必要时 
传导电压峰值 
17 
 
A 类设备(若适用) 
 
√ 
B 类设备(若适用) 
 
√ 
传导音频敏感度 
18 
√ 
感应信号敏感度 
19 
√ 
无线电频率敏感度
(辐射的和传导的)
20 
√ 
无线电频率能量传播 
21 
√ 
光线引导的瞬变敏感度 
22 
√ 
环境试验 
DO-160G 章节 
是否需要试验 
光线 
23 
必要时 
结冰 
24 
必要时 
静电 
25 
必要时 
可燃性 
26 
√ 
 

## D. 设备试验程序

(1) 
术语的定义和试验条件 下列术语定义和试验条件适用于此
标准规定的设备试验: 
(i)电源输入电压 除另有规定外,所有试验必须在电源输
入电压调整到设计电压±2%的范围内进行。必须在试验设 备的输入端测量输入电压。 
(ii)电源输入频率 
     (a)在固定频率(例如400Hz)的交流电源下工作的
设备,其输入频率必须调整到设计频率±2%的范围内。 
     (b)除另有规定外,在可变频率(例如300~1000Hz)
的交流电源下工作的设备,
试验必须在输入功率调整到选定

频率的5%以内及设备的设计频率范围内进行。 
(iii)风场模型 除另有规定外,用于试验的风场模型必须
是此CTSO 附录2 中所规定的模型。 
(iv)
设备调整 在试验之前,
测试设备的电路必须根据制造
商的推荐操作方法的进行对齐和调整。 
(v)试验仪器预防措施 试验期间必须采取应有的预防措
施,以防由电压计、示波器及其他试验仪器穿过试验设备的
输入和输出阻抗的连接造成的引入错误。 
(vi)
环境条件 除另有规定外,
所有试验必须在下列环
境条件下进行: 
温度:+15 ~ +35 摄氏度(+59 ~ +95 华氏度)
。 
相对湿度:不大于85%。 
环境压力:
84 ~ 107 kPa
(相当于+ 5000 ~ -1500ft.)
(-460 
+ 1525 ~ -460m) 
(vii)预热时间 除另有规定外,所有试验必须在制造商规
定的预热时间结束后进行。 
(viii)测试负载 除另有规定外,所有的测试都必须在连接
到负载的设备上进行,负载的阻抗值为设备的设计值。 

(2) 
试验程序 设备必须在传感器输入的各种组合的所有工作模
式下进行试验,以表明符合功能和精度标准。 
动态试验利用飞行条件的简化模拟提供关于风切变警告及逃
离引导设备的数据。若该试验正确执行并通过文件证明,有可能
降低飞行试验的要求。 
设备制造商有责任确定风切变警告及逃离引导设备上的传感
器输入能够产生与此标准要求相应的性能。提供额外传感器输入
可以提高设备的能力和性能,该要求是可选的。 
要求完成这些试验的设备必须由制造商根据其设备特定的传
感器配置来规定。由于完成这些试验的方法不止一种,所以可使 用其他可供选择的试验设备设置来实现相等的试验功能。在适当
情况下可采用组合试验。 
试验设备信号源必须给试验中的特定系统提供合适的输入信
号格式,且不导致测量误差值。除另有规定外,只需进行一次试
验。 
为测试风切变警告及逃离引导系统建立的场景代表了实际工
作环境,以正确评估此系统。此CTSO 附录2 包含的风场模型应
用于评估风切变警告及逃离引导系统的性能。制造商可提出不同
的风场模型,但须证明它们所代表的情况至少与本CTSO 所载的
情况一样严重。 
注:CTSO 提供的试验波形参数足够宽,足以覆盖已知事故情况
下观测到的风场参数。
然而,
制造商被鼓励验证检测系统将实际检测
这些风切变使它们受风场条件指定用于评估引导命令。 
(3) 
试验搭建 模拟试验用于验证风切变警告及逃离引导设备的 
性能能力。为评估试验中的特定系统,必须提供一个合适的设备
接口以记录必要的关联参数。飞行模拟器应能够正确地动态模拟
有代表性的飞机及此CTSO 附录2 和3 所包含的风场和湍流条件
或其他局方可接受的风场/湍流模型。 
注: 本节要求在一个典型的飞机模拟器中进行试验。安装批准将
需要在飞机模拟器中对系统进行试验。因此,建议先完成4.d(3)段,
在尽可能多的具有代表性的模拟器中进行模拟器试验,
以覆盖所有的
预期安装。 

(4) 
功能性能 (b)
(1)段到(b)
(5)段,
(b)
(8)段,
(b)
(9)
段)
所规定的每一项功能能力必须通过供电的风切变警告及
逃离引导设备验证。这些功能必须通过检查或连同(d)
(5)
段到(d)
(10)段所述的试验进行评估。 

(5) 
模式指示(
(b)
(1)段) 设备运行时,验证风切变逃离引
导显示工作模式在启动逃离引导并在转换到不同的飞行引
导模式时告示飞行员。 
(6) 
异常/失效指示(
(b)
(2)段) 配置(d)
(3)段规定的模拟
试验的设备。 
(i)在系统工作(在工作高度范围之内)和不工作(在工作
高度范围之外)的情况下,每次消除一个设备所需的电源输 入。在每个模拟失效状态下,设备就会产生一个失效指示。
 
(ii)在系统工作(在工作高度范围之内)和不工作(在工
作高度范围之外)的情况下,使得每个传感器或其他信号输

入变成不充分的或无效的。在每个模拟失效状态下,设备就
会产生一个失效指示。 
(7) 
风切变戒备告警(
(b)
(3)段和(b)
(5)
(i)
) 有风切变戒
备告警功能的设备需完成下列试验: 
(i)配置(d)
(3)段规定的模拟试验的设备。使设备置于
满足下列条件的加速度波形值
(参见图2)
。
当受到下列平均
切变强度(fav,x)值限制时,系统会在规定的时间间隔内产
生一个相应的戒备告警(或无告警)
: 
fav,x(1)        暴露时间(t)        结果 
                  (秒)    
0.0200              20              无告警 0.0400              20              无告警 
0.1050              10              10 秒内告警 0.1166               9              9 秒内告警 
0.1311               8              8 秒内告警 
0.1499               7              7 秒内告警 0.1748               6              6.2 秒内告警 0.2100               5              5.7 秒内告警 0.2700(2)          5              5 秒内告警 
注意: (1)
必然导致在时间tx 或更短时间之后产生警告告警的平均
切变强度满足图1 中规定的fav,x。试验波形的最大瞬时切变
强度限制在平均切变值fav,x 以上0.075 或fav,x 的100%,取较
小的。试验波形的最小瞬时切变强度为零。试验波形的上升
率和下降率必须限制在最大0.1 每秒的范围内。
0 时刻之前切
变强度保持足够长时间为零,使得系统调整到稳定状态。 
(2)为了达到切变强度满足的试验条件,即fav,x 等于或大于
0.270,需要有足够的初始上升速率达到切变强度的f 值,
使随
后的上升和下降率限制在每秒0.1 实现所需要的fav,x。 
(3)
在测量告警时间时,
考虑告警计算和告警通告显示功能
造成的延迟。 
以上规定的试验条件必须对每个轴重复5 次(水平和垂直)
。检
测验证总共需运行90 次
(每个轴9 个条件分别运行5 次)
,
以提高和
降低风切变性能。5 次运行每次都要使用不同的波形fav,x。每组试验
条件必须产生一个相应的告警(或无告警)
。 
验证系统显示一个专门的琥珀色戒备通告显示或提供相应的输
出。验证视觉戒备显示(或输出)至少应保持至门限风切变条件不再
存在或至少3 秒(两者取长者)
,或直至发生风切变警告。 
(ii)
使设备置于附录4 包含的Dryden 湍流模型规定的风速。
必须使系统在附录4 规定的每个高度处于这些条件下至少
50 小时
(或600 个飞行周期)
,
总的试验持续时间至少为250
小时
(或3000 个飞行周期,
以1 小时/飞行周期为基础)
。
该
试验过程中产生的妨碍告警不得多于一次。 
(iii)使设备受限于附录4 包含的离散阵风抑制模型规定的
风速。该试验不得产生告警。 

(8) 
风切变戒备告警(
(b)
(4)段和(b)
(5)
(ii)段) 
(i)配置(d)
(3)段规定的模拟试验的设备。使设备置于
满足下列条件的加速度波形值
(参见图2)
。
当受到下列平均
切变强度(fav,x)值限制时,系统会在规定的时间间隔内产
生一个相应的警告告警(或无告警)
: 
fav,x(1)        曝光时间(t)        结果 
                  (秒)    
0.0200              20              无告警 0.0400              20              无告警 
0.1050              10              10 秒内告警 0.1166               9              9 秒内告警 
0.1311               8              8 秒内告警 
0.1499               7              7 秒内告警 0.1748               6              6.6 秒内告警 0.2100               5              6.2 秒内告警 0.2700(2)          5              5.7 秒内告警 
注意: (1)
必然导致在时间tx 或更短时间之后产生警告告警的平均
切变强度满足图1 中规定的fav,x。试验波形的最大瞬时切变
强度限制在平均切变值fav,x 以上0.075 或fav,x 的100%,取较
小的。试验波形的最小瞬时切变强度为零。试验波形的上升
率和下降率必须限制在最大0.1 每秒的范围内。
0 时刻之前切
变强度保持足够长时间为零,使得系统调整到稳定状态。 
(2)为了达到切变强度满足的试验条件,即fav,x 等于或大于
0.270,需要有足够的初始上升速率达到切变强度的f 值,使
随后的上升和下降率限制在每秒0.1 实现所需要的fav,x。 
(3)
在测量告警时间时,
考虑告警计算和告警通告显示功能
造成的延迟。 
以上规定的试验条件必须对每个轴重复5 次(水平和垂直)
。检
测验证总共需运行90 次
(每个轴9 个条件分别运行5 次)
,
以提高和
降低风切变性能。
。5 次运行每次都要使用不同的波形fav,x。每组试验
条件必须产生一个相应的告警(或无告警)
。 
验证系统显示一个专门的
"风切变"
红色警告通告或提供显示相
应的输出。验证视觉告警显示(或输出)保持至门限风切变条件不再
存在或至少3 秒(两者取长者)
。验证系统可提供3 个周期的"风切
变"通告语音告警。 
      (ii)
使设备置于附录4 包含的Dryden 湍流模型规定的风
速。必须使系统在附录4 规定的每个高度处于这些条件下至少50 小
时
(或600 个飞行周期)
,
总的试验持续时间至少为250 小时
(或3000
个飞行周期,以1 小时/飞行周期为基础)
。该试验过程中产生的干扰
警告不得多于一次。 
(iii)使设备置于附录2 包含的离散阵风抑制模型规定
的风速。该试验不得产生告警。 
 

## 图2 风切变告警试验

(9) 
工作高度范围(
(b)
(8)段) 配置(d)
(3)段规定的模拟
试验的设备。
在地平面之上至少1500 英尺的高度模拟起飞。
验证风切变警告及逃离引导系统的工作高度范围为地平面
之上至少50 英尺~1000 英尺。模拟从地平面之上1500 英尺
处着陆的进近。
验证风切变警告及逃离引导系统的工作高度
范围为地平面之上至少50 英尺~1000 英尺。 
(10) 
风切变逃离引导(
(b)
(9)段) 配置(d)
(3)段规定的
模拟试验的设备。
使设备置于附录2 包含的每种可用工作模
式(起飞、进近、着陆等)的每个风场条件。每个试验条件
必须重复5 次。
固定俯仰比较方法的恢复操作必须在进入切
变条件之前开始。 
注: 
(1)使用模拟装置评估风切变逃离引导命令,其中包含有代表
性的必要动态模拟(必要时,可能需要安装一个以上的代表飞机模
型)
。代表性的飞机动态建模应考虑所有相关影响,包括但不限于俯
仰和滚转率、控制权限、控制输入和飞机响应之间的延迟、显示系统
超前和滞后等。 
(2)模拟器应该提供一个飞行员在模拟风切变遭遇时对飞行引
导的飞行能力评估。引导指令的增益应该与飞行导航系统里的一致。 虽然可以对引导命令进行"微调"
,以获得特定飞机的最佳性能,但
可能不需要对特定飞机进行特殊定制。通过适当的工程仿真进行评
估,要证明具有代表性的飞机引导指令的适用性。然而,设备制造商
应该证明,在遭遇动态风切变时,飞行引导指令会被遵守,并不会产
生飞行员造成的飞机振动。 
(i)
验证飞行路线引导指令管理飞机在遭遇切变的情况下完
成期望轨迹的可用能量。这些试验必须在垂直切变条件、水
平切变条件,以及垂直和水平相结合的切变条件下进行。 
   (a)在起飞情况下,验证飞行引导指令产生一个期望轨
迹,该期望轨迹可提供一条至少与通过建立15°俯仰姿态
(渐进率为1.5°每秒)获得的一样好的(考虑到整个试验
范围时)合成飞行路线,直至发生失速告警,然后降低俯仰 姿态以保持失速告警直至退出切变条件。
必须证明固定俯仰
方法提供的飞行路线以下的显著下降的迹象
(考虑整个试验
范围)是由于使用系统提供的引导指令造成的。  
   (b)
在进近/着陆情况下,
验证飞行引导指令产生一个期
望轨迹,
该期望轨迹可提供一条至少与通过建立15°俯仰姿
态(渐进率为1.5°每秒)获得的一样好的(考虑到整个试
验范围时)合成飞行路线,直至发生失速告警,然后降低俯 仰姿态以保持失速告警直至退出切变条件。
必须证明固定俯
仰的方法提供的飞行路线以下的显著下降的迹象
(考虑整个
试验范围)是由于使用系统提供的引导指令造成的。 
(c)当切变条件超出飞机可用性能能力时,验证飞行
引导指令在无法产生附加升降梯,缺乏过多动能,且没有把
飞机置于失速条件的情况下,导致地面撞击。  
注:没有要求执行在第四部分(d)
(10)
(ii)到(vii)节试
验中描述的在垂直切变条件、水平切变条件,以及垂直和水
平相结合的切变条件下进行。 
(ii)验证飞行指导指令输出可以显示在相关的显示器上。
必须验证并确定设备安装说明书规定的适合于系统的接口
规格。 
(iii)验证俯仰姿态指令不会导致超过失速告警或最大俯仰
指令27°(可能更小)的攻角。 
(iv)若系统包含恢复飞行引导指令人工启动功能,验证系
统只能由TOGA 开关
(或等效方法)启动。
若系统有恢复引
导自动启动功能,验证系统与风切变戒备告警同时启动。 
(v)验证风切变恢复引导指令和任何自动恢复模式可通过

除TOGA 开关以外的其他方法取消选定。 
(vi)若系统包含从风切变逃离引导到另一种飞行引导模式
的飞行引导指令自动转换功能,
验证飞行引导模式之间的转
变可提供流畅的引导信息。 
(vii)
验证飞行引导信息直到被手动取消选定或飞机在退出
告警条件后仍保持正爬升率且速度保持1.3Vst 至少30 秒方
可移除飞行引导显示。 

## 附录2

该附录包含了规定风场模型的数据,
该模型用于完成此CTSO 附
录1 第四段(d)
(10)节规定的试验。材料由美国国家航空航天局
(NASA)研发(参考NASA 技术备忘录100632)
。 
下列下击暴流模型参数提供了变量用于获取有代表性的试验条
件:
(1)
(2) 
下降气流半径(ft)
 最大流出量(ft/s)
最大流出量高度
(ft) 
起点距离
(3)
(ft)

| 920    |   37  |   98  |   20000 |
|--------|-------|-------|---------|
| (      |       |       |         |
| -9000  |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 1180   |  47.6 |   98  |   15000 |
| (      |       |       |         |
| -14000 |       |       |         |
| )      |       |       |         |
| 2070   |  58.4 |  131  |   25000 |
| (      |       |       |         |
| -4000  |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 4430   |  68.9 |  164  |   30000 |
| (      |       |       |         |
| 1000   |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 9010   |  72.2 |  262  |   30000 |
| (      |       |       |         |
| 1000   |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 3450   |  88.2 |  197  |   25000 |
| (      |       |       |         |
| -4000  |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 3180   |  53.1 |  262  |   30000 |
| (      |       |       |         |
| 1000   |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 1640   |  46   |  164  |   25000 |
| (      |       |       |         |
| -4000  |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 5250   |  81.3 |  197  |   30000 |
| (      |       |       |         |
| 1000   |       |       |         |
| )      |       |       |         |
|        |       |       |         |
| 1250   |  67.6 |  100  |   25000 |
| (      |       |       |         |
| -4000  |       |       |         |
| )      |       |       |         |
|        |       |       |         |

(1) 
来自NASA TM-100632 文件证明的微暴流分析模型。这些参数
以葡氏TASS 模型的数据为基础。 
(2) 
飞机起飞时,所有试验的下击暴流中心位于飞机在跑道上的起
飞点。 
(3) 
飞机进近/着陆时,下击暴流中心位于如上所述位置。试验以飞
机起始高度为1500 英尺、滑翔斜率为3°开始(着陆点约为
29000 英尺处)
。
起始点的距离表示相对于起始点的下击暴流轴
的中心位置。旁边括号内的数字表示着陆点(并非跑道末端)
到微暴流中心的相对距离。负数表示微暴流中心位于着陆点之 前,正数表示其经过着陆点。

## 摘 要

研发一种简单的下击暴流模型,
用于风切变条件下终端区运输飞
机飞行引导策略的间歇和实时指导仿真研究。
该模型代表轴对称驻点

流,
 以葡氏研发的终端区仿真系统
              (TASS)
                  速率变化图模型为基础[3,4]

并且满足圆柱坐标中的大量连续方程。
                高度关系曲线包括接近地面的 边界层的影响,与实际测量紧密吻合,如增长、顶点及流出量和向下 流量随着到下击暴流中心的距离增大而衰减。
                   在流场中不存在奇点的 情况下,
   水平风和垂直风的方程式是推导出来的并且被认为是无限可 微的。此外,最大平行速率与垂直速率比、下降气流半径、流出量的 深度和最大流出量高度之间存在一种简单关系。
                    在使用中,
                         可通过指

定4 个特性参数对微暴流建模。速率由x、y 和z 方向上的组成,很

容易从速率方程式中获得相应的偏导数。 

## 引 言

运输飞机在风切变环境下的终端区操作被认为是一个严重问题。
对穿过下击暴流的飞机轨迹的研究表明,
需要专门的引导策略使飞机
在遭遇意外的下击暴流时得以幸存。
为了使仿真中实行的引导策略与
实际遭遇中的相同,
在策略研发过程中必须提出一组实际条件。
因此,
高度模拟实际条件下的飞机和风场模型是从研究中获取有效信息的
基础。 
由于下击暴流特征的可变性使得分析模型不切实际,
而且大存储
量要求使用的数字模型不可能应用于任何计算机除容量特别大的计
算机之外,
所以目前还很难获得用于个人计算机或存储空间有限的模
拟机上的风场模型。 
Bray[1]提出了一种在飞行模拟器中风切变条件的分析建模方法,
并利用该方法对联合机场气象研究(JAWS)数据中的多下击暴流场
景进行建模。但是,该模型相关的高度不符合观察到的数据,尽管在 模型中建立了按下击暴流大小进行排列的灵活性,
但是仍无法保持分
级参数之间如实际数据所示的物理关系。
实际上,
边界层影响会引起
径向速度在地面垂直减小到零,垂直速度同样如此。 
在NASA 兰利研究中心进行的一项研究中,研发了3 种引导策
略以应对波音737-100 飞机在起飞时遭遇微暴流的情况[2]。这些策略
首先要利用一台个人计算机进行开发,
然后利用一个非常简单的风场
模型在人机闭环仿真中执行,
在这两方面的共同作用下研发出来
(见
图1)
。该模型由下击暴流半径以外的恒定流出与穿过下击暴流直径
的逆风到顺风的恒定斜坡组成。
越逼真的风场模型越能显著改变轨迹
结果,
这一点已得到证实。
该项研究随后部分涉及改变飞机模型来仿
真着陆和逃离机动以及额外起飞的方法,
优先选择使用更切合实际的
风场模型。此报告概述的简单分析模型就是为此研发的。 

## 符号

JAWS      联合机场气象研究 
NIMROD   北伊利诺伊州下击暴流气象研究 
R          下击暴流轴半径(ft) 
r           径向坐标(到下击暴流中心的距离)
(ft) 
TASS      终端区仿真系统 
u          r 方向的速率(或x 方向的)
(kts) 
v          y 方向的速率(kts) 
w         z 方向的速率(kts) 
wmax          最大垂直速度量级(kts) 
umax          最大水平速度量级(kts) 
x         水平(跑道)距离,飞机到下击暴流中心(ft) 
y         水平(侧面)距离,飞机到下击暴流中心(ft) 
z         飞机在地平面上的高度(ft) 
zh        流出深度(ft) 
zm        最大U-速率的高度(ft) 
zm2       一半最大U-速率的高度(ft) 

z*        特征高度,边界层以外(ft) 
e         特征高度,在边界层内(ft) 
λ         比例因子(s-1) 

## 速度方程式的开发

以全套欧拉方程和大量连续方程为开始,
对下击暴流的条件提出
一些简化的假定。
粘性的影响由参数明确规定,
并且假设流量不随时
间变化。
下击暴流在柱面坐标上是轴对称的,
以地面上沿向下流柱轴
的一个停滞点为特征。
在没有外力或动力作用的情况下,
这种流是不
能压缩的。 
结果大量守恒方程为 
                  
v
0
∇⋅
=
                       (1) 
全部写出来,方程式2 为 

u w u + =0 r z r ∂ ∂ + ∂ ∂                     (2) 
式(2)由下式解 

w=g(r^2)q(z) (3a) u=$\frac{\mbox{f}(\mbox{r}^{2})}{\mbox{p}(\mbox{z})}$ (3b)
假设 

$$\begin{array}{l c r}{{\mathrm{f^{\prime}(r^{2}){=}\frac{\lambda}{z}g(r^{2})}}}&{{}}&{{}}&{{\mathrm{(4a)}}}\\ {{}}&{{}}&{{}}\\ {{\mathrm{q^{\prime}(z){=}-\lambda p(z)}}}&{{}}&{{}}&{{\mathrm{(4b)}}}\end{array}$$
注意,
2
2
2
f (r )
f (r )=
r
∂
′
∂
。为解该系统方程式,假设其中两个函数的解,
剩下的两个函数的解由式4a 和式4b 得出。 
期望的情况是,
该解析模型的速度分布图展示了高度和径向,
示
于大量数值气象模型TASS(终端区域仿真系统)中[3-4]。TASS 模型
基于联合机场气象研究数据[5],并及时冻结图像,给出一个三维速度
场,用于给出切变内的飞机位置[6]。图2 所示为水平速度的无因次垂
直分布u,给出了TASS 数据、平板上喷气机碰撞得出的实验室数据
以及NIMROD(北伊利诺斯下击暴流气象研究)得出的数据[7]。几个
应引起特别关注的点为最大水平速度高度(位于地面上方100m~
200m 处),低于这个高度会由于边界层效应的影响产生衰退区域;
地面驻点零速度;最大速度高度以上时的指数衰退。基于TASS 数据
的垂直速度分布图示于图3,还示出了驻点处衰退到0 的情况。 
水平风的径向变化特性为两个位于给定半径的相同幅度和相反
方向的峰值,在两个峰值间存在平稳、近线性变换。在峰值上方,速
度应显示出到0 的指数衰退。要求垂直速度沿对称轴(r=0)有一个
峰值,且在增加的半径处指数衰退。 
下式给出了与TASS 数据匹配的给出速度分布图的一组成形函
数。 

$$\begin{array}{c}{{\mathrm{g}\left(\mathbf{r}^{2}\right)=\mathbf{e}^{-\left(\mathbf{r}/\mathbf{R}\right)^{2}}}}\\ {{\mathrm{p}\left(\mathbf{z}\right)=\mathbf{e}^{-\mathbf{z}/\mathbf{z}^{*}}-\mathbf{e}^{-\mathbf{z}/\mathbf{e}}}}\end{array}$$
将式4a 与式4b 结合,得出其余的解,生成: 

$$\begin{array}{c}{{\mathrm{f}(\mathrm{r}^{2})=\frac{\lambda\mathrm{R}^{2}}{2}\Big[1-\mathrm{e}^{-(\mathrm{r}/\mathrm{R})^{2}}\Big]}}\\ {{\mathrm{q}(\mathrm{z})=-\lambda\left\{\mathrm{e}(\mathrm{e}^{-\mathrm{z}/\mathrm{e}}-1)-\mathrm{z}*(\mathrm{e}^{-\mathrm{z}/\mathrm{z}*}-1)\right\}}}\end{array}$$
图4 和图5 示出了这些成形函数的图。 如式3 所示合并函数,水平和垂直速度表达式为 

$$\mathrm{u}=\frac{\lambda\mathrm{R}^{2}}{2\mathrm{r}}\bigg{[}1-\mathrm{e}^{-(r/\mathrm{R})^{2}}\bigg{]}(\mathrm{e}^{-z/z*}-\mathrm{e}^{-z/z})\tag{5}$$

$$\mathrm{W}=-\lambda\mathrm{e}^{-(r/\mathrm{R}^{2})}\bigg{[}\varepsilon(\mathrm{e}^{-z/z*}-1)-\mathrm{z}*(\mathrm{e}^{-z/z*}-1)\bigg{]}\tag{6}$$
分别求出式5 和式6 对r 和z 的导数,并在式2 中替换,另外可以表
明速度分布的连续满意度。 
参数z∗和ε 分别定义为与"边界层外"和"边界内"相关的特
征定标长度。TASS 数据分析结果表明
m2
z z
∗=
,在水平速度幅度处的
高度为最大值的一半。 
另外注意比值 

$${\frac{Z_{\mathrm{m}}}{Z*}}=0.22$$
为了确定最大水平速度的位置,
将u 对r 和z 的偏导数设定为0。
得出的r 导数的方程为 

$$2{\Bigg(}{\frac{\mathbf{r}}{\mathbf{R}}}{\Bigg)}^{2}=\mathbf{e}^{-(\mathbf{r}/\mathbf{R})^{2}}-1$$
得出z 的导数公式为 

$$\frac{Z_{\mathrm{m}}}{Z*}=\frac{1}{(z*/\varepsilon)-1}\ln(z*/\varepsilon)$$
令
m z
0.22
z
=
∗
,
通过迭代得出的r / R 和z
/
∗ε的比值分别为1.1212
和12.5。 
基于这些值,最大水平速度可以表示为
max u
0.2357 R
=
λ
按照定
义,最大垂直风速位于r=0 和z=zh 处,有 

$$\mathrm{W_{max}}=\lambda Z*(\mathrm{e}^{-(z_{\mathrm{h}}/z*)}-0.92)$$
最大出流和下流速度比值可以用公式表示为 

$${\frac{\mathrm{{\bf\Psi_{m}}}}{\mathrm{{\bf\Psi_{m}}}}}={\frac{0.2357\mathrm{{R}}}{\mathrm{{\bf\Psi_{m}}}}}={\frac{\mathrm{{\bf\Psi_{m}}}}{\mathrm{{\bf\Psi_{m}}}}}\ast(\mathrm{{e}^{-(z_{\mathrm{{h}}}/z*)}-0.92)}$$
应用计算水平或垂直速度的式5 或式6 确定比例因数λ,
并分别
设定u 和w 的最大速度umax 和wmax。解λ,得出: 

$$\lambda={\frac{\mathrm{W_{m}}}{\mathrm{z*(e^{-(z_{h}/z*)}-0.92)}}}={\frac{\mathrm{u_{m}}}{0.2357\mathrm{R}}}$$
如附录所示,
速度方程可以较易地转换为直角坐标。
对速度方程
式微分,分别得出对x,y,z 的偏导数,也在附录中列出。 
 

## 探讨与结论

U 和w 的垂直和水平速度分布图如图6 和图7 所示。四幅图分
别示出了各分量。在图6 中,在峰值出流射频处(r=1.1212R)和四
分之一径向处(r=0.3R)绘制水平风分布图,此时最大出流大约为峰
值出流径向的一半。而垂直风分布图在峰值下冲气流处(r=0)和
r=0.3R 处取值。
图7 中,
水平风和垂直风分布图在h=zm
(最大出流)
、
h=z*(最大出流值的一半)和h=zh(出流深度)的高度处取值。 
图8 将该解析模型与TASS、实验数据和NIMROD 数据作比较。
数据表明,当通过二分之一最大出流值(z*)和最大出流(u=umax)
进行无量纲化时,解析模型与其他数据接近吻合。 
不同的风切变可由四个参数和飞机穿越区域相对的下击暴流中
心位置建模。这四个参数为:1)特性水平维度;2)最大风速;3)
最大出流高度;4)出流深度。特性水平维度是向下气流柱,注意该
值约为峰值出流半径的89%。最大风速可以是水平或垂直的。 

## 结束语备注

实时和批量仿真研究中使用的解析微暴模型表明其能与案例研
究真实测量数据相符。
该模型所选择的函数示出了边界层效应,
上升
高度处出流的峰值和衰减,以及随着高度的增加向下气流增加的情

况。
 从该模型还能看出指数的增加和下流与出流衰减
                      (在径向方向)
                             。

水平和垂直风的方程式简单且持续可微,
                 对速度方程式直接微分可以

较易地获得直角或圆柱坐标系中的偏导数。
该系统的控制方程是质量
守恒定理,
文中提出的解析速度函数符合该条件。
该模型持续建立在
实际基础上,
从而产生高保真结果,
并且维持其简单性和微暴现象的
可变性。
一些特性维度的参数设置允许在微暴尺寸和密度方面有所选
择。 

## 参考文献

1. A Simple, Analytic 3-Dimensional Downburst Model Based on 
Boundary Layer Stagnation Flow, Rosa M. Oseguera and Roland 
L. Bowles, July 1988. 
2. Bray, R. S.: Application of Data to Piloted Simulations. Wind 
Shear/Turbulence Inputs To Flight Simulation and Systems Certification, NASA CP-2474, 1987, pp. 97-115. 
3. Hinton, D. A.: Aircraft Trajectory Guidance During Wind Shear 
Encounters. Master's Thesis, George Washington University, January 1988. 
4. Hinton, D.A.: Flight management strategies for escape from 
microburst encounters, NASA TR 4057, 29 pp, 1988. 
5. Hinton, D.A.: Relative merits of reactive and forward-look 
detection for wind shear encounters during landing approach for 
various 
microburst 
escape 
strategies, 
NASA 
TM-4158, 
DOT/FAA/DS-89/35, 1990. 
6. Proctor, F.H.: The Terminal Area Simulation System, Volume I: 
Theoretical Formulation, NASA Contractor Report 4046, April 1987. 

7. Proctor, F. H., 1988: Numerical simulations of an isolated 
microburst. Part I: Dynamics and structure, J. Atmos. Sci., 45, pp. 
3137-3160. 
8. Proctor, F.H.: The Terminal Area Simulation System, Volume II: 
Verification Cases, NASA Contractor Report 4047, April 1987. 
9. Proctor, F. H., 1989: Numerical simulations of an isolated 
microburst. Part II: Sensitivity experiments, J. Atmos. Sci., 46, pp. 
2143-2165. 
10. 
Frost, W.: Modeling and Implementation of Wind Shear Data. Wind Shear/ Turbulence Inputs to Flight Simulation and Systems Verification, NASA CP-2474, 1987, pp. 49-66. 
11. 
Proctor, F. H.: NASA Wind Shear Model - Summary of Model Analysis. Airborne Wind Shear Detection and Warning Systems, NASA CP-10006, 1988, pp. 29-66. 
12. 
Proctor, F. H., and Bowles, R. L.: Three-dimensional simulation of the Denver 11 July 1988 microburst-producing storm, Meteorol. and Atmos. Phys., 49, 1992, pp. 107-124. 
13. 
Fujita, T. T.: Tornadoes and Downbursts in the Context of Generalized Planetary Scales, Journal of Atmospheric Sciences, vol. 38, no. 8, August 1981, pp. 1511-1534. 
14. 
Oseguera, R. M.; Bowles, R. L.; and Robinson, P. A., 1992: 
Airborne In Situ Computation of the Wind Shear Hazard Index, 
AIAA Paper 92-0291, 1992. 
15. 
Lewis M. S., Robinson P. A., Hinton D. A., Bowles R. L.: The 
relationship of an integral wind shear hazard to aircraft 
performance limitations, NASA TM-109080, 1994. 
16. 
Arbuckle, P. D., Lewis M. S., Hinton D. A.: Airborne systems 
technology application to the windshear threat, 20th Congress of 
the International Council of the Aeronautical Sciences, ICAS 
Paper No. 96-5.7.1, pp. 1640-1650, 1996. 
17. 
Airborne Windshear Detection and Warning Systems. First Combined Manufacturers' and Technologists' Conference, NASA CP-10006, DOT/FAA/PS-88/7, 1988. 
18. 
Airborne Windshear Detection and Warning Systems, Second Combined Manufacturers' and Technologists' Conference, NASA CP-10050, 1990. 
19. 
Airborne Windshear Detection and Warning Systems, Third 
Combined Manufacturers' and Technologists' Conference, NASA 
CP-10060, DOT/FAA/RD-91/2-1, 1991. 
20. 
Airborne Windshear Detection and Warning Systems, Fourth Combined Manufacturers' and Technologists' Conference, NASA CP-10105, DOT/FAA/RD-92/19-1, 1992. 
21. 
Airborne Windshear Detection and Warning Systems, Fifth and Final Combined Manufacturers' and Technologists' Conference, 
NASA CP-10139, DOT/FAA/RD-94/14-1, 1994. 
 

## 附录3

为简化公式的书写,定义中间变量: 

$$\begin{array}{l l}{{\mathbf{e}_{\mathrm{r}}=\mathbf{e}^{-(\mathrm{r/R})^{2}}}}&{{\mathbf{e}_{\mathrm{d}}=\mathbf{e}_{\mathrm{z}}-\mathbf{e}_{\mathrm{e}}}}\\ {{\mathbf{e}_{\mathrm{e}}=\mathbf{e}^{-(\mathrm{h/e})}}}&{{\mathbf{e}_{\mathrm{c}}=\mathbf{z}*(1-\mathbf{e}_{\mathrm{z}})-\mathbf{e}(1-\mathbf{e}_{\mathrm{e}})}}\\ {{\mathbf{e}_{\mathrm{z}}=\mathbf{e}^{-(\mathrm{h/z}*)}}}\end{array}$$

## 水平和垂直速度

$$\begin{array}{l}{{\mathrm{W_{x}=\frac{\lambda R^{2}}{2r^{2}}(1-e_{r})e_{d}X_{a d}}}}\\ {{\mathrm{W_{y}=\frac{\lambda R^{2}}{2r^{2}}(1-e_{r})e_{d}Y_{a d}}}}\\ {{\mathrm{W_{h}=-\lambda e_{r}e_{c}}}}\end{array}$$

## 偏导数

2 2 2 2 d ad ad ad x r 2 2 2 2 R e 2x 2x 2x w e 1 1 x 2r R r r 2 ad ad d x r 2 2 2 2 R x y e w 1 1 1 e y r R r r 2 ad e x z r 2 2 y ad ad d r 2 2 2 2 R x e w e (1 e ) h 2r z w R x y e 1 1 1 e x r R r r ⎡ ⎤ ⎛ ⎞ λ ∂ = + − − + ⎢ ⎥ ⎜ ⎟ ∂ ⎝ ⎠ ⎣ ⎦ λ ∂ ⎡ ⎤ ⎛ ⎞ = + − ⎜ ⎟ ⎢ ⎥ ∂ ⎝ ⎠ ⎣ ⎦ λ ∂ ⎡ ⎤ = − − ⎢ ⎥ ∂ ε ∗ ⎣ ⎦ ∂ λ ⎡ ⎤ ⎛ ⎞ = + − ⎜ ⎟ ⎢ ⎥ ∂ ⎝ ⎠ ⎣ ⎦   2 2 d ad x r 2 2 2 ad ad 2 2 2 2y 2y 1 1 r r R e 2y w e x 2r R λ ∂ = ∂ 2 y ad e z r 2 ad r c h 2 w R y e e (1 e ) h 2r z 2 x e e w x R ⎡ ⎤ ⎛ ⎞ + − − + ⎢ ⎥ ⎜ ⎟ ⎝ ⎠ ⎣ ⎦ ∂ λ ⎡ ⎤ = − − ⎢ ⎥ ∂ ε ∗ ⎣ ⎦ λ ∂ = ∂ $$\begin{array}{l}{{\frac{\partial\mathbf{w_{h}}}{\partial\mathbf{y}}=\frac{2\lambda\mathbf{y_{a d}}\mathbf{e_{r}}\mathbf{e_{c}}}{\mathbf{R}^{2}}}}\\ {{\frac{\partial\mathbf{w_{h}}}{\partial\mathbf{h}}=-\lambda\mathbf{e_{r}}\mathbf{e_{d}}}}\end{array}$$

## 其他关系式

从TASS          

$$\frac{Z_{\mathrm{m}}}{Z*}=0.22\qquad\qquad\frac{Z*}{\varepsilon}=12.5$$
最大值    

$$\begin{array}{l}{{{\mathrm{W_{\scriptsize~x\,max}}}=0.2357\lambda R}}\\ {{{\mathrm{W_{\scriptsize~y\,max}}}={\mathrm{W_{\scriptsize~x\,max}}}}}\\ {{{\mathrm{W_{\scriptsize~h\,max}}}=\lambda Z*({\mathrm{e}}^{-({\mathrm{z_{h}}}/{\mathrm{z*}})}-0.92)}}\end{array}$$
(λ由上述关系式确定) 

$${\frac{\mathrm{W_{x\,max}}}{\mathrm{W_{h\,max}}}}={\frac{0.2357\mathrm{R}}{\lambda z*(\mathrm{e}^{-(z_{\mathrm{h}}/z*)}-0.92)}}$$
变量列表 
z*=wx为wxmax值一半处的高度(ft) 
ε=边界层效应的特征高度(ft) 
zh=出流深度(ft) 
zm=最大出流高度(ft) 
λ=定标参数(s-1) 
r=从飞机到下击暴流的径向距离(ft) 
h=飞机高度(ft) 
R=向下气流半径(ft) 
Xad,yad=飞机到微暴的x,y坐标系(ft), X、y和h方向的最大风wxmax, wymax和whmax 
 
图1 用于引导系统研究的风模型 
 
图2 微暴出流的垂直分布图(无因次) 
垂直速度的垂直分布图(6月30日,基于82个案例): 对降雨轴半径的灵敏度 
 

## 图3 微暴向下流动的垂直分布图

 

## 图4 水平成形函数的特征变量

 
 
图5 垂直成形函数的特征变量 
 

## 图6 解析模型的垂直速度分布图

 

## 图7 解析模型的径向速度分布图 图8 风模型垂直分布对比图 附录4

该附件包含了定义Dryden紊流模型和离散阵风模型的数据,以及
本CTSO中(e)(7)(ii)、(e)(7)(iii)、(e)(8)(ii)和(e)(8)(iii)定义的试验数据。
 
Dryden紊流模型 
)
 
Fu(S)
SIGMAu SQRT(TAUu / PI) 1/ (1 TAUu S
(1 SQRT3 TAUv S)
Fv(S)
SIGMAv SQRT(TAUv / PI2)
(1 TAUv S) (1 TAUv S)
(1 SQRT3 TAUw S)
Fw(S)
SIGMAw SQRT(TAUw / PI3)
(1 TAUw S) (1 TAUw S)
=
∗
∗
+
∗
+
∗
∗
=
∗
∗
+
∗
∗
+
∗
+
∗
∗
=
∗
∗
+
∗
∗
+
∗
其中: 
SIGMAu、SIGMAv和SIGMAw是RMS强度 
TAUu=Lu/VA; TAUv=Lv/VA; TAUw=Lw/VA; 
Lu、Lv和Lw是紊流标度长度; 
VA是飞机真实空速 
PI=3.1415926535;  
PI2=6.2831853070 (PI的两倍);  
SQRT3=1.732050808 (根号3); 
S是拉普拉斯变换变量。 
以下表格列出了SIGMAu、SIGMAv、SIGMAw、Lu、Lv、Lw和
高度的比对数据。
外推法不予使用,
因而在紊流列表范围外的模拟高
度将使用边界处数据。 
 

高度 
RMS强度(英尺/秒) 
标度长度(英尺) 
经度 
纬度 
垂直 
经度 
纬度 
垂直 
100 
5.6 
5.6 
3.5 
260 
260 
100 
300 
5.15 
5.15 
3.85 
540 
540 
300 
700 
5.0 
5.0 
4.3 
950 
950 
700 
900 
5.0 
5.0 
4.45 
1123 
1123 
900 
1500 
4.85 
4.85 
4.7 
1579 
1579 
1500 

 该表格需证明其紊流变量是适当的。 
 
离散阵风抑制 应使用表格[A(1−cos OMEGAt)]中幅度和频率(A和OMEGA)范
围内的离散阵风
(在水平轴)
。
以下表格列出了将使用的A和OMEGA
的值(假定在约为阵风15海里/小时的情况下): 
 

| A                 |   OMEGA(rad/sec)  |
|-------------------|-------------------|
| 近似阵风间隔时间( |                   |
| sec               |                   |
| )                 |                   |
|                   |                   |
| 7.5               |              2.1  |
| 7.5               |              1.26 |
| 7.5               |              0.78 |
| 7.5               |              0.63 |
| 7.5               |              0.52 |
| 7.5               |              0.42 |
| 7.5               |              0.31 |

 

## 附录5 切变强度

$$\mathrm{f}(\mathrm{t})={\frac{\mathrm{W_{x}}}{\mathrm{g}}}-{\frac{\mathrm{W_{h}}}{\mathrm{V}}}$$
式中 
wx=风变化率的水平分量,以g 为单位 
(1.91kts/sec=0.1g)
(逆风增加时为正) 
wh=风矢量w 的垂直分量(ft/sec)
(向下气流时为正) 
V=真实空速(ft/sec) 
g=重力加速度(ft/sec2) 

## 附录6

以下的计算机列表(用Quick Basic编写)提供一种简化的飞机仿真
模型,以评估不同引导方案的效果。该仿真在个人计算机上运行,该
仿真的结果与基于全六自由度仿真器的结果相当。该模型由
Honeywell公司的J. Rene Barrios研发。 
  风切变仿真模型(WSSM)是一种点质量三自由度数学模型,其
仿真了飞机在垂直面的运动情况。
在风轴上描述的运动方程,
包括风
速和风加速度分量,
因此能够精确地建立风切变情况下的飞机动态模
型。该模型已被若干研究者使用,用以研究风切变时的飞机情况。 
注:
附录6 末尾提供的风切变模拟模型是用Microsoft QuickBasic
编写的一个示例。其他编程语言,如Microsoft FORTRAN、C、汇编
语言,也可以接受。 

## 运动方程

  垂直平面上的固定质点运动情况可以用四个状态方程式和一个
控制变量来描述。对于飞机,可以使用直角坐标系,建立飞机架构及
在运动向上的横向点。该参考系为相对风参考系。 
 以下方程式对风轴上的飞机状态进行建模: 

Vdt=g[(T.csalf) −D)/W−sngam]−Wxdt.csgam−Wzdt.sngam      (1) 
Gdt={g[(T.snalf +L)/W−csgam]+Wxdt.sngam−Wzdt.csgam}/V   (2)  
Hdt=V.sngam+Wz                                       (3)  
Xdt=V.csgam+Wx                                       (4) 
其中, Vdt = 真实空速的变化率(节/秒) 
g = 引力常量(节/秒) 
T =总发动机推力(磅)  
csalf = cos (alpha)  
alpha = 攻击角(弧度)  
D = 总阻力(磅)  
W = 总重(磅) 
sngam = sin (gamma)  
gamma = 飞行路径角(弧度) 
Wxdt = 惯性风切变x分量(节/秒) 
Gdt = 变化率(节/秒) 
snalf = sin (alpha)   
L = 总升力(磅) 
V =真实空速(节) 
Hdt = 高度率(节) 
Wz =惯性风z风量(节) 
Xdt = 地速(节) 
在以上公式中,
正向是向上和向前。
这意味着顺风和上升气流是
正的,而顶风和向下气流是负的。可从给出的alpha中确定所有情况,
因此alpha是个控制变量。 
由于模型是一个点质量的模型,需要提出alpha_command和真实
alpha,
以说明水平顺逆/升降的影响。
这就需要在alpha_command和真
实alpha之间设定一个lag。因此,任何给予升降或稳定器的指令可以
作为alpha_command,其将会引起攻击角的改变。 
由式(1)~(4)可知,alpha的任何变化将会引起纵向加速度
和法向加速度的改变,这会使飞机状态发生改变。 

## 路径控制函数

由一系列alpha_command描述按照WSSM建立的不同飞行轨迹
段,这些alpha_command由下列程序生成。 

1. 由用户配平飞机的初始条件。初始条件通常由高度、总重、
副翼、速度、飞行路径角和风特性定义。配平操作是确定攻击角以满
足状态方程,并会导致自然运动。 

2. 在初始配平后,必须定义各轨迹段的alpha_command,通常由
恒路径角上升或下降的恒速段、
风扰动的导向信息组成。
风扰动由在
初始时间选定的风模型给出。 
3. 为定义alpha_command,用户必须应用子程序,以这种方式定
义二次泛函,当最小化alpha且状态方程受约束时,最小化的alpha将
产生最理想的期望路径。例如,假如飞机要以恒路径角(假定为8°)
进行首飞,那么二次泛函可由以下方程定义 
cst = (gamma + Gdt*dt−8/57.3)2                (5) 
其中, cst=最小化w/r/t alpha的函数 
dt=仿真使用的时间增量(秒) 
Gdt*dt是一个预测项,可预测gamma值的变化。其他方程如下:
 
cst=(V+Vdt*dt−V_cmd)2                恒速 
cst=(alpha+gamma+Gdt*dt−pitch_cmd)2    恒倾斜角 
在各时帧用子程序运行最小化的函数cst,且对于须提供目标函
数cst的用户完全透明。 
4. 每个定义不同目标函数cst值的方程式称为"LAW"。用户在
menua时间遭遇风切变期间可选择引导律。该方法允许用户在完全相
同的条件下比较不同的引导律。 

## 风模型

WSSM有两种风模型:由四涡流仿真的达拉斯-沃斯事故风场,
通过初始条件菜单由用户定义的恒切变模型。 

## 测绘能力

WSSM可以至多绘制三次,每次10个参数。每次时间长度应在
60秒内。该特征允许用户通过结果比较不同的轨迹。 
项目 
WSSM用Microsoft QuickBasic编写,该工具使用高结构化的语
言,且有着全友好界面编辑器。QuickBasic允许用户停止任务、变更
程序以及继续任务,因此方便开发。其还可与Microsoft FORTRAN,C
安装语言交互使用。 
对于该应用程序,WSSM不按照子程序探测和导向。可以分别
进行探测和导向,并输入WNDSHR.QLB的库中。这些外部子程序可
用Microsoft FORTRAN, C或安装语言编写。 ′************ AIRCRAFT FLIGHT PROFILE SIMULAITON********** DECLARE SUB PLOT ( ) DECLARE SUB TAKEOFF ( ) DECLARE SUB EULER ( ) DECLARE SUB MCRBRST ( ) DECLARE SUB WINDS ( ) DECLARE SUB OPT ( ) DECLARE SUB MIN (DM, M2, C1, C2, C3, M) DECLARE SUB BEGIN ( ) DECLARE SUB VSHAKER ( ) DECLARE SUB COST ( ) DECLARE SUB LIMIT ( ) DECLARE SUB RATES ( ) DECLARE SUB THRUST ( ) DECLARE SUB ATMOS ( ) DECLARE SUB PRINTS ( ) DECLARE SUB DRAGS ( ) COMMON SHARED FLPS%, GEAR%, GEAR$, CL, CD, LIFT, DRAG, ALPHA COMMON SHARED SEC, ALT, DST, HDOT, ALF, GAM, GAMREF, GREF, G COMMON SHARED WSALERT%, WXO, WL, WX, WXDT, WZ, WZDT, DFW% COMMON SHARED WV, LC%, GM, GREFF, NOSAVE, GMO COMMON SHARED DELTA, ISA, TO, SPDSND, VT, VC, MACH, AO, TAT, TAMF COMMON SHARED THRST, EPR, TFCT, APPFLG% COMMON SHARED SNGM, CSGM, CSAL, SNAL, VDOT, WG, GDOT, XDOT  
COMMON SHARED AWX, AWZ, AU, AZ, VG, GRND, KF1, GMIN, KF2  
COMMON SHARED ACMD, OLDALF, DT, HP, LP, ALFLIM COMMON SHARED LAW%, GMR, ASS, CST, VTO, GCMD COMMON SHARED OUTFILE$, DM, ALT1, PL$, TTT, WXDTO, TDX, TSH, WZO, TDZ, TSV COMMON SHARED GM1, VTP, THETA COMMON SHARED ALFRTE, PLMFLG% ′******************************************* ′ MAIN PROGRAM(主要程序) * ′*******************************************  
START(开始): ′< ----------------<< RE-RUNS START HERE(在此处 
重新开始运行) COLOR 15, 1: CLS : VIEW PRINT LOCATE 8, 23: PRINT " WINDSHEAR SIMULATION(风切变仿真)"  
LOCATE 10, 23: PRINT " FOR " LOCATE 12, 23: PRINT " BOEING 737/200 " LOCATE 23, 25: PRINT "TYPE " + CHR$(&H22) + "I" + CHR$(&H22) + " FOR 
INFORMATION" DO WHILE a$ = " " a$ = INKEY$ LOOP IF a$ = "I" OR a$ = "i" THEN a$ = " ": CLS '---------------------- INFORMATION PAGE (信息页) -----------------------------------------  
LOCATE 2, 10: PRINT " BOEING 737/200 INFORMATON"  
LOCATE 3, 10: PRINT " JT8D-17 ENGINES" LOCATE 5, 1: PRINT "------------------------------------------------------------------------------------------------------
------------------------------------" LOCATE 7, 10: PRINT "ALLOWABLE WEIGHT RANGES.................................: 75,000 TO 120,000 POUNDS" LOCATE 9, 10: PRINT "ALLOWABLE TAKEOFF FLAP SETTINGS................: 1, 
2, 5, 15, 20, 25 DEGREES" LOCATE 11, 10: PRINT "ALLOWABLE LANDING FLAP SETTINGS.................: 
30, 40 DEGREES" LOCATE 13, 10: PRINT "TAKEOFF EPR AT SEA LEVEL, STD. DAY.............: 2.1 " LOCATE 15, 10: PRINT "REFERENCE WING AREA..............................................: 980 SQUARE FEET" LOCATE 17, 10: PRINT "REFERENCE TAKEOFF SPEED.....................................: V2 + 10" LOCATE 19, 10: PRINT "REFERENCE LANDING SPEED.....................................: 1.3 Vs" LOCATE 23, 26: PRINT "Press Any Key to Continue..." DO: LOOP WHILE INKEY$ = " " END IF ANS$ = "2" CLS WHILE (ANS$ = "2") LOCATE 10, 30: PRINT "fly ..... 1" LOCATE 12, 30: PRINT "plot ..... 2" LOCATE 14, 30: PRINT "exit ..... 3" LOCATE 18, 30: INPUT "Selection ....."; ANS$ IF ANS$ = "2" THEN CALL PLOT COLOR 15, 1 CLS END IF WEND IF ANS$ = "3" THEN END  
CALL BEGIN 'GET DATA/INITIALIZE VARIABLES CALL THRUST 'INITALIZE THRUST CALL TAKEOFF 'INITALIZE TAKEOFF CALL COST 'SUBROUTINE COST CALL PRINTS 'SUBROUTINE PRINT FOR ICL% = 1 TO TTT' TTT IS THE RUN TIME IN SECONDS CALL THRUST ' SUBROUTINE EPR/THRUST CALL WINDS ' SUBROUTINE WINDS ' CALL DETECT ' SUBROUTINE WINDSHEAR DETECTION ' SUPPLIED BY USER ' MUST RESIDE IN LIBRARY WNDSHR.QLB CALL OPT ' SUBROUTINE OPTIMIZE CALL LIMIT ' SUBROUTINE ALPHA RATE CALL EULER ' SUBROUTINE INTEGRATE CALL ATMOS ' SUBROUTINE ATMOSPHERE CALL PRINTS ' SUBROUTINE PRINT IF ALT < 0 THEN EXIT FOR NEXT ICL% PRINT " RUN IS COMPLETE" PRINT " TYPE " + CHR$(&H22) + "D" + CHR$(&H22) + " FOR RUN DATA" a$ = " " DO WHILE a$ = " " ' Wait for key to be pressed a$ = INKEY$ LOOP VIEW PRINT: COLOR 15, 4: CLS IF a$ = "D" OR a$ = "d" THEN a$ = " " LOCATE 2, 30: PRINT "DATA FROM CURRENT RUN" LOCATE 4, 1: PRINT "------------------------------------------------------------------------------------------------------
----------------------------------------"  
LOCATE 6, 18: PRINT "GROSS WEIGHT: "; WG; " POUNDS"  
LOCATE 7, 18: PRINT "ISA DEVIATION: "; ISA; " DEG C" LOCATE 8, 18: PRINT "FLAP POSITION: "; FLPS%; " DEGREES" LOCATE 9, 18: PRINT "GEAR POSITION: "; GEAR$ LOCATE 11, 18: PRINT "CONTROL LAW: "; LAW% LOCATE 12, 18: PRINT "GAMMA REFERENCE: "; LOCATE 13, 18: PRINT "PITCH LIMITING: "; PL$ IF PL$ = "YES" THEN LOCATE 13, 20: PRINT "MAXIMUM PITCH: "; HP * 57.3; " DEGREES" : LOCATE 13, 20: PRINT "MINIMUM PITCH: "; LP * 57.3; " DEGREES" LOCATE 15, 18: PRINT "TIME OF RUN: "; TTT * DT; " SECONDS"  
IF DFW% = 1 THEN LOCATE 17, 18: PRINT " DALLAS/FW Wind Model" ELSE LOCATE 17, 18: PRINT "HORIZ. WIND MAGNITUDE "; WXO; " KNOTS"  
LOCATE 18, 18: PRINT "HORIZ. SHEAR MAGNITUDE: "; WXDTO; " KNOTS/SECOND" LOCATE 19, 18: PRINT "HORIZ. SHEAR DURATION: "; TDX; " SECONDS"  
LOCATE 20, 18: PRINT "VERT. WIND MAGNITUDE: "; WZO * 1.689; " FT/SECOND" LOCATE 21, 18: PRINT "VERT. WIND DURATION: "; TDZ: " SECONDS" LOCATE 22, 1: PRINT "------------------------------------------------------------------------------------------------------
--------------------------------------------------" END IF IF LEN(OUTFILE$) = 0 THEN OUTFILE$ = "NONE" LOCATE 23, 18: PRINT "OUTPUT FILE: "; OUTFILE$ LOCATE 24, 26: PRINT "Press Any Key to Continue...." 按任意键继续 DO: LOOP WHILE INKEY$ = " " 'Wait for key to be pressed 等待按键 END IF GOTO START END SUB ATMOS STATIC 
2******************************************************  
′ SUBROUTINE ATMOSPHERE * ′****************************************************** STATIC THETA L% = ALT > 36089! FISA = 1.8 * ISA IF ALT > 36089 THEN TMP = .7519 * TO DELTA = .2234 * EXP((36089! − ALT) / 20806)  
ELSE TMP = TO − .0035662 * ALT  
DELTA = (TMP / TO) ^ 5.256 END IF TAMB = TMP + FISA 'TAMBient in deg. R TAMF = TAMB − 459.7 ' ″ ″ F  
THETA = TAMB / TO SQRTH = AO * SQRTH IF VT > 0 THEN MACH = VT / SPDSND VC = A0 * SQR(5 * (((1 + MACH * MACH / 5) ^ 3.5 − 1) * DELTA + 1)  
^ .28571 − 5) TAX = (TMP + FISA) * (1 + .2 * MACH * MACH) 'Deg. R  
TAT = 5 * (TAX − 459.7 − 32) / 9 'Deg. C IF INKEY$ < > " " THEN PRINT : INPUT "Press ENTER to continue...."; XXX  
END SUB SUB BEGIN STATIC CLS : VIEW PRINT ′<--------------------------------- DATA_INPUT ------------------------------>  
PRINT INPUT "OUTPUT FILE (DEFAULT IS NO FILE) "; OUTFILE$ IF OUTFILE$ = " " THEN NOSAVE = 1 ELSE NOSAVE = 0 END IF 
2 CONSTANTS USED IN CALCULATIONS: 计算中使用的2个常数 
AO = 661.478599# 'Speed of sound at sea level in knots 海平面声速(单位:节) G = 19.07583 'Gravitational constant in knots/sec 重力常数(节/秒) TO = 518.67 'Standard temperature at SL in deg Rankine  SL处的标准温度(兰金 刻度) DT = .25 'Simulation time step in seconds 仿真时间程序(单位:S) ' ---------------------------------- INITIALIZATION OF VARIABLES 变量初值 -------------------------- GMIN = 0 VDOT = 0 ALT1 = 0 INPUT "TAKEOFF OR APPROACH (T/A) (Default is T)....."; ANS$ IF ANS$ = "a" OR ANS$ = "A" THEN INPUT "ENTER ALTITUDE IN FEET (Default is 1000' . "; ALT1 IF ALT1 = 0 THEN ALT1 = 1000 APPFLG% = 1 TFCT = 1 END IF ALT = ALT1 ′ ----------------------- CONFIGURTATION CONSTANTS 结构常数 ------------------------------------------  
ASS = 16.5 'Stick Shaker alpha in degrees ASS = ASS / 57.3 ' " ″ ″ ″  
radians ′ ------------------------------------------- GROSS WEIGHT ENTRY 总重 ------------------------------------------  
PRINT : INPUT "ENTER GROSS WEIGHT IN POUNDS (Default is 110000) "; 
WG IF WG = 0 THEN WG = 110000! ' DEFAULT SETTING FL% = 0  
WHILE (NOT FL%) INPUT "ENTER FLAPS SETTING (Default is 0)............."; FLPS% SELECT CASE FLPS% CASE 0, 1, 2, 5, 15, 20, 25, 30, 40 FL% = −1 CASE ELSE FL% = 0 PRINT "Invalid flaps setting" PRINT "Only 0, 1, 2, 5, 15, 20, 25, 30, & 40 are supported" PRINT END SELECT WEND IF FLPS% < 15 THEN GEAR% = 1 IF FLPS% = 15 THEN INPUT "GEAR UP OR DOWN (1/0)  
(Default is Down)....."; GEAR% IF GEAR% = 1 THEN GEAR$ = " UP" ELSE GEAR$ = " DOWN" END IF INPUT "ENTER ISA DEV. IN DEGREES C (Default is 0)......"; ISA  
PRINT CALL VSHAKER ' COMPUTE V2+10 FOR FLAPS<33 OR 1.3Vs FOR FLAPS>32 PRINT " CONTROL LAW SELECTION:" PRINT PRINT " Speed = 1.1* V_stall = 1" PRINT " Alpha = Stick Shaker Alpha = 2" PRINT " Horizontal Acceleration 水平加速度= 0 = 3"  
PRINT " 15_Degree Pitch = 4" PRINT " Theoretical HONEYWELL/SPERRY = 5" PRINT " User Defined = 6" PRINT INPUT " SELECT CONTROL LAW ....................... "; LAW% IF LAW% = 0 THEN LAW% = 5 PRINT : PRINT ′ ----------------------------------- GAMMA REFERENCE INPUT --------------------------------- IF LAW% > 4 THEN INPUT "ENTER GAMMA REFERENCE IN DEGREES (Default is 0)........."; GMR PRINT GAMREF = GMR GMR = GMR / 57.3: GMIN = GMR END IF ′ --------------------------------------- PITCH LIMITING SELECTION  
--------------------------------------------- INPUT "PITCH LIMITING DESIRED (Default is NO)..............."; PL$ IF PL$ = "Y" OR PL$ = "y" THEN PL$ = "YES" INPUT " MAXIMUM PITCH ALLOWED IN DEGREES "; HP INPUT " MINIMUM PITCH ALLOWED IN DEGREES "; LP  
HP = HP / 57.3: LP = LP / 57.3: PL% = 1 ELSE HP = 100 LP = −100 PL% = 0 PL$ = "NO" END IF CLS ′ ----------------------------------------------- TIME FOR RUN 运行时间 
---------------------------------------------------------------- PRINT INPUT "ENTER TIME OF RUN IN SECONDS (Default is 45).............."; TTT TTT = TTT / DT IF TTT = 0 THEN TTT = 45 / DT ' DEFAULT SETTING ′ ------------------------------------- WINDSHEAR SET UP ---------------------------------------------------- INPUT "DALLAS/FW Wind Model........(Default is constant Shear)....."; ANS$  
IF ANS$ = "Y" OR ASN$ = "y" THEN DFW = 1 ELSE DFW% = 0 PRINT INPUT "MAGNITUED OF HORZ. WIND IN KNOTS......(Head wind < 0)......"; WXO INPUT "MAGNITUED OF HORZ. SHEAR IN KT/SEC. (Dec. Perf. > 0)......"; WXDTO INPUT "DURATION OF HORZ. SHEAR IN SEC.............(Default is 0)......"; TDX  
INPUT "TIME FOR SHEAR TO START IN SEC..............(Default is 0)......"; TSH PRINT INPUT "MAGNITUED OF VERT. WIND IN FT/SEC. (Down Draft < 0)......"; WZO  
WZO = WZO / 1.689 'Convert to knots INPUT "DURATION OF VERT. WIND IN SEC...........(Default is 0)........"; TDZ INPUT "TIME FOR SHEAR TO START IN SEC...........(Default is 0)......"; TSV  
PRINT END IF ′ -------------------- OTHER SET UPS ---------------------------------------------------- VT = VTO WX = WXO CALL ATMOS ′ SUBROUTINE ATMOSPHERE  
′ ---------------------------------- HEADERS FOR SCREEN DISPLAY ----------------------------------------------------  
CLS : PRINT PRINT "TIME ALT HDOT VT ALPHA GAMMA PITCH GREF WXDT WZ 
VDOT ALRT" PRINT "(SEC) (FT) (FPM) (KTS) (DEG) (DEG) (DEG) (DEG) (KT/S) (FPS) 
(KT/S)" PRINT STRING$(75, "−"): VIEW PRINT 5 TO 25 ′************************************** ′ SUBROUTINE INIT_OUTPUT FILE * ′************************************** IF NOSAVE THEN ' CREATE OUTPUT FILE ELSE OPEN "O", 2, OUTFILE$ FMT$ = " ###.## ##### ##### #### #### ## ###.## ###.## ###.##" FMT$ = FMT$ + " ###.## ###.# ###.# ##.## " END IF END SUB SUB COST STATIC ′************************************************************ 
2 SUBROUTINE COST *  
′************************************************************ CALL DRAGS ' SUBROUTINE DRAG & LIFT CALL RATES ' SUBROUTINE RATES IF LC% = 0 THEN 'Constant gamma segment FCT = (GM + GDOT * DT − GMO) ˆ 2 GREFF = 57.3 * GMO ELSE 'All guidance laws SELECT CASE LAW% CASE 1 ′ ---------------------------- 1.1*Vstall  
----------------------------------- CST = (VT + VDOT * DT - 1.1 * 135) ˆ 2 CASE 2 ′ ---------------------------- Alpha = Ass ----------------------------------- CST = (ALPHA - ASS) ˆ 2 CASE 3 ′ ---------------------------- Ax = 0 ----------------------------------- CST = (VDOT - VT * GDOT * GM + WXDT) ˆ 2 CASE 4 ′ ---------------------------- 15 Degrees ----------------------------------- CST = (GM + 3 * GDOT * DT + ALPHA - 15 / 57.3) ˆ 2 CASE 5 ′ ---------------------------- User Defined  
-----------------------------------  
PRINT "Not defined" STOP CASE 6 ′ ---------------------------- User Supplied  
-----------------------------------  
'User must supply a subroutine called GUIDE 用户须应用GUIDE子程序 
'which must reside in the WNDSHR.QLB Library 其位于WNDSHR.QLB库中 
'GUIDE can have a list of arguments 'As an example 例如 
'ALF = 57.3*ALPHA "PTH = 57.3 * (ALPHA + GM) ' units : ft fpm kt deg deg g's g's * 'CALL GUIDE(ALT, HDOT, VC, ALF, PTH, AU, AZ, CST)  
END SELECT END IF ' CST is the Cost Function to be minimized   CST为最小化的成本函数 END SUB SUB DRAGS STATIC ′***************************************************** ′ SUBROUTINE DRAG FOR B737/200 * ′***************************************************** X = 57.3 * ALPHA + 1 CF5 = 0: CF4 = 0: CF3 = 0: CF2 = 0 SELECT CASE FLPS% CASE 0 CF1 = .091 CF0 = .0156 CASE 1 CF3 = −1.164058E-04 CF2 = 2.48561E-03 CF1 = .0905781 CF0 = .062114 CASE 2 CF0 = .101198 CF1 = .110993 CF2 = −.0015162 CF3 = 1.8931E-04 CF4 = −7.1427E-06 CF5 = −4.2776E-09 CASE 5 CF0 = .192638 CF1 = .123509 CF2 = −.0051477 CF3 = 6.4968E-04  
CF4 = −3.0891E-05 CF5 = 4.1291E-07 CASE 10 CF0 = .249855 CF1 = .114005 CF2 = 7.1207E-04 CF3 = −9.9541E-05 CF4 = 7.0431E-06 CF5 = −2.3773E-07 CASE 15 CF0 = .40149 CF1 = .118723 CF2 = −6.4877E-04 CF3 = 6.6281E-05 CF4 = −1.6113E-07 CF5 = −1.4278E-07 CASE 25 CF0 = .592655 CF1 = .122433 CF2 = −.0026365 CF3 = 3.5963E-04 CF4 = −1.5579E-05 CF5 = 1.0894E-07 CASE 30 IF X < 4 THEN CF1 = .12 CF0 = .72 ELSE CF3 = −1.651192E-04 CF2 = 4.16461E-03 CF1 = 8.337061E-02 CF0 = .8350316 END IF CASE 40 IF X < 4 THEN CF1 = .12 CF0 = 1.08 ELSE CF3 = −1.689903E-04 CF2 = 3.733285E-03 CF1 = 8.483822E-02 CF0 = 1.201596 END IF CASE ELSE PRINT "Flaps "; FLPS%; " not available....." 不可获得 END END SELECT 'For CL computation 用于CL计算 CL = ((((CF5 * X + CF4) * X + CF3) * X + CF2) * X + CF1) * X + CF0 SELECT CASE FLPS% 'Low Speed Drag Polars CASE 0 D0 = .013285: D1 = .052868: D2 = −.07182: D3 = .071561  
CASE 1 D0 = .026143: D1 = .022358: D2 = −.00083: D3 = .016338 CASE 2 D0 = .070346: D1 = −.0852: D2 =.097453: D3 = −.01207  
CASE 5 D0 = .045214: D1 = −.0178: D2 =.04373: D3 = .002101  
CASE 10 D0 = −.04266: D1 = .19643: D2 = −.1152: D3 = .03966  
CASE 15 IF GEAR% = 0 THEN D0 = .034954: D1 = .098892: D2 = −.04187: D3 = .020496  
ELSE D0 = −.02822: D1 = .174631: D2 = −.0874: D3 = .029566  
END IF CASE 25 DO = −.10416: D1 = .327506: D2 = −.17059: D3 = .043313  
CASE 30 DO = .124697: D1 = −.03348: D2 =.055295: D3 = −.00311 
CASE 40 DO = .124925: D1 = .052537: D2 =.006912: D3 = .0058 CASE ELSE PRINT "Flaps "; FLPS% " not available...." END END SELECT CD = ((D3 * CL + D2) * CL + D1) * CL + DO Q = 1451770 * MACH * MACH * DELTA 'B737/200 LIFT = Q * CL DRAG = Q * CD END SUB SUB EULER STATIC ′***************************************************************** ′ SUBROUTINE EULER'S PREDICTOR/CORRECTOR * ′ (INTEGRATION SUBROUTINE) * ′***************************************************************** DTH = DT / 3600: DTM = DT / 60: SEC = SEC + DT: VTP = VT CALL RATES ' SUBROUTINE RATES <<PREDICTOR>> ALT1 = ALT: HDOT1 = HDOT: ALT = ALT + HDOT * DTM  
GM1 = GM: GDOT1 = GDOT: GM = GM + GDOT * DT DST1 = DST: XDOT1 = XDOT: DST = DST + XDOT * DTH VT1 = VT: VDOT1 = VDOT: VT = VT + VDOT * DT CALL RATES ' SUBROUTINE RATES <<CORRECTOR>> ALT = ALT1 + (HDOT1 + HDOT) * DTM / 2 GM = GM1 + (GDOT1 + GDOT) * DT / 2 DST = DST1 + (XDOT1 + XDOT) * DTH /2 VT = VT1 + (VDOT1 + VDOT) * DT / 2 END SUB SUB LIMIT STATIC ′******************************************************************** ********* ′ SUBROUTINE ALPHA DOT AND PITCH LIMIT  
*2*******************************************************************
********** ALPHA = OLDALF + .25 * (ACMD − OLDALF) 'Pitch dynamics CALL DRAGS ' SUBROUTINE DRAG (REQ'D FOR RATE SUB CALL) IF PLMFLG% = 0 THEN EXIT SUB OLDGM = GM PLIM% = 0 DO WHILE (PLIM% = 0) CALL RATES ' SUBROUTINE RATES X = ALPHA + OLGM + GDOT * DT IF X > HP THEN ALPHA = .9 * ALPHA IF X < LP THEN ALPHA = 1.1 * ALPHA IF ALPHA > ALFLIM THEN ALPHA = ALFLIM PLIM% = 1 END IF LOOP END SUB SUB MCRBRST STATIC IF MU1 = 0 THEN MU1 = −37141! AV = 5500: H1 = 2500: G3 = 3: J1 = −700: J2 = 800: J3 = 6.5 MU2 = −20000 BV = 12000: H2 = 2000: N1 = 200: N2 = 2500: N3 = 4 WX = 5 IF ALT > 1000 THEN PRINT PRINT " DFW data not available above 1000'" PRINT " Please start at or below 1000'" END END IF END IF X = 6078 * DST: Y = ALT: A1 = AV: A2 = BV NX1 = Y − H1: DENX1 = (Y − H1) ˆ 2 + (X - A1) ˆ 2 NY1 = X + J2 - A1: DENY1 = (Y + J1 - H1) ˆ 2 + (X + J2 - A1) ˆ 2 NX2 = Y − H2: DENX2 = (Y − H2) ˆ 2 + (X - A2) ˆ 2 NY2 = X + N2 - A2: DENY2 = (Y + N1 - H2) ˆ 2 + (X + N2 - A2) ˆ 2 NX3 = Y + H1: DENX3 = (Y + H1) ˆ 2 + (X - A1) ˆ 2 NY3 = X + J2 - A1: DENY3 = (Y + J1 + H1) ˆ 2 + (X + J2 - A1) ˆ 2 NX4 = Y + H2: DENX4 = (Y + H2) ˆ 2 + (X - A2) ˆ 2 NY4 = X + N2 - A2: DENY4 = (Y + N1 + H2) ˆ 2 + (X + N2 - A2) ˆ 2 XX = MU1 * (–NX1 / DENX1 + NX3 / DENX3) + MU2 * (NX2 / DENX2 - NX4 / DENX4) WX = WX + .65 * (XX - WX) + 2 * G3 IF DST = 0 THEN WXP = WX ZZ = MU1 * (NY1 / DENY1 - NY3 / DENY3) * J3 + MU2 * (–NY2 / DENY2 + NY4 / DENY4) * N3 WZ = WZ + .65 * (ZZ - WZ) IF DST = 0 THEN WZP = WZ WX5 = WX4: WX4 = WX3: WX3 = WX2: WX2 = WX1: WX1 = WX  
WZ5 = WZ4: WZ4 = WZ3: WZ3 = WZ2: WZ2 = WZ1: WZ1 = WZ IF WCNT% < 4 THEN WXDT = (WX − WXP) / DT: WXP = WX  
IF WCNT% < 4 THEN WZDT = (WZ − WZP) / DT: WZP = WZ  
IF WCNT% > 3 THEN WXDT = (26 * WX5 − 27 * WX4 − 40 * WX3 − 13 * WX2 
+ 54 * WX1) / (70 * DT) IF WCNT% > 3 THEN WZDT = (26 * WZ5 − 27 * WZ4 − 40 * WZ3 − 13 * WZ2 + 54 * WZ1) / (70 * DT) IF ABS(WXDT) > 15 THEN WXDT = 15 * SGN(WXDT) IF ABS(WZDT) > 15 THEN WZDT = 15 * SGN(WZDT) WCNT% = WCNT% + 1 END SUB SUB MIN (DM, M2, C1, C2, C3, M) STATIC ′************************************************************ ′SUBROUTINE MIN_CST BY LEAST SQUARES PARABOLA * ′************************************************************ ALPHA = M2 + DM ′INCREMENT ALPHA CALL COST ′SUBROUTINE COST  
IF DM < 0 THEN C4 = CST ELSE SWAP C1, C3 C5 = CST END IF ALPHA = M2 − DM 'DECREMENT ALPHA  
CALL COST 'SUBROUTINE COST  
IF DM < 0 THEN C5 = CST ELSE C4 = CST END IF M = ABS(DM) * (14 * C1 + 7 * C4 − 7 * C5 − 14 * C3) / (20 * C1 − 10 * C4 − 20 * 
C2 − 10 * C5 + 20 * C3)  
END SUB SUB OPT STATIS ′******************************************************************** ******** ′SUBROUTINE OPTALF - DETERMINES THE ALPHA REQD FOR CMD 
GAMMA * ′******************************************************************** ******** OLDALF = ALPHA: GM1 = GM CALL ATOMS ′ SUBROUTINE ATMOSPHERE  
CALL RATES ′ SUBROUTINE RATES  
DM = 1 / 57.3 ′ SET ALPHA INCREMENT TO 1 DEGREE  
C1 = 1E+20 C2 = 1E+20 C3 = 1E+20 OPTFLG% = 0 WHILE (OPTFLG% = 0) CALL COST ′ SUBROUTINE COST 
C3 = C2: C2 = C1: C1 = CST M3 = M2: M2 = M1: M1 = ALPHA LGC% = C1 > C2 AND C3 = 1E+20 IF LGC% THEN DM = −DM ′ Reverse search direction  
C1 = C2: C2 = CST: M1 = M2: M2 = ALPHA ALPHA =ALPHA + 2 * DM ELSE IF C1 < C2 THEN L% = ABS(OLDALF − ALPHA) / DT > ALFRTE OR ALPHA > ALFLIM OR 
ALPHA < −.08 IF L% THEN OPTFLG% = 1 ALPHA = ALPHA + DM ELSE DM = DM / 2 CALL MIN(DM, M2, C1, C2, C3, M)′Fit parabola & find minimum  
ALPHA = M2 + M 'This is the optimum alpha OPTFLG% = 1 'Set flag to terminate  
END IF END IF WEND ALFLIM = ASS 'SET ALPHA LIMIT TO ALPHA STICK SHAKER SELECT CASE LAW% CASE 4 ALFLIM = ASS − .035 'LIMIT TO SS MINUS 2 DEG  
CASE 5, 6 ALFLIM = ASS − KF2 CASE ELSE END SELECT IF ALPHA < −.08 THEN ALPHA = -.08  
IF ALPHA > ALFLIM THEN ALPHA = ALFLIM ACMD = ALPHA 'SET ALPHA COMMAND TO COMPUTED ALPHA END SUB SUB PLOT ′******************************************************************** ***************** ′* PLOT ROUTINE * * ′******************************************************************** **************** REM $DYNAMIC ′ TWO DIMENSIONAL PLOTTER DEFINT I-L, N DIM F$(3) ' file name array DIM DTA(3, 1000, 15) ' data array DIM TY$(14) ' title array (dependant variable) TITLE$ = "HONEYWELL WINDSHEAR SIMULATION" ' main title  
TX$ = "Time (s)" ' X title TY$(1) = "Altitude ft " TY$(2) = "Alt Rate fpm " TY$(3) = "T A S kts " TY$(4) = "Alpha deg " TY$(5) = "Gamma deg " TY$(6) = "Pitch deg " TY$(7) = "G_ref deg " TY$(8) = "Hz Shear kps " TY$(9) = "Vt Wind fps " TY$(10) = "Vt rate kps " TY$(11) = "W/S Flag " NV = 12 CLS LOCATE 3, 15: PRINT "Enter the names of the data files you wish to plot." 输入数
据文件名称 FOR NC = 1 TO 3 LOCATE 6 + 2 * NC, 25 ' input PRINT "FILENAME "; NC; " "; ' filenames INPUT ; F$(NC) ' containing IF F$(NC) = " " THEN EXIT FOR ' data NEXT NC NC = NC − 1 ' number of curves to plot LOCATE 20, 15: PRINT "Reading from disk........." FOR I = 1 TO NC CLOSE OPEN "I", #1, F$(I) ' open file for input NP = 0 DO NP = NP + 1 ' number of points FOR J = 1 TO NV INPUT #1, DTA(I, NP, J) ' read data NEXT J LOOP UNTIL EOF(1) CLOSE NEXT I DO ' display all selected parameters DO ' prompt user until a valid parameter is selected 100 CLS LOCATE 3, 20: PRINT "Select the parameter you wish to plot."  
FOR I = 1 TO NV − 1  
LOCATE 4 + I, 30: PRINT TY$(I); " = "; I NEXT I LOCATE 21, 30: INPUT "parameter number (0 to exit)"; PARAM% IF PARAM% = 0 THEN CLS EXIT SUB ' return to calling program  
END IF LOOP UNTIL 1 <= PARAM% AND PARAM% <= 14 'end of select loop  
PARAM% = PARAM% + 1 DX = 5 ' x axis grid increment GOSUB 400 ' find maximum x and y values IF PLTFLG% = 1 THEN PRINT "No information to plot...." PRINT "Press any key to continue..." DO: LOOP WHILE INKEY$ = " " GOTO 100 END IF GOSUB 600 ' grid and titles  
FOR I = 1 TO NC GOSUB 1110 ' plot graph NEXT I DO LOOP WHILE INKEY$ = " " CLS : SCREEN 0 LOOP ′******************************************************************** ****************** 400 ′* MAX SUBROUTINE * ′******************************************************************** ****************** ′ MAXX = DTA(1, 1, 1) MAXY = DTA(1, 1, PARAM%) MINY = DTA(1, 1, PARAM%) FOR I = 1 TO NC FOR J = 1 TO NP IF DTA(I, J, 1) > MAXX THEN MAXX = DTA(I, J, 1) IF DTA(I, J, PARAM%) > MAXY THEN MAXY = DTA(I, J, PARAM%) IF DTA(I, J, PARAM%) < MINY THEN MINY = DTA(I, J, PARAM%) NEXT J NEXT I PLTFLG% = 0 DY = (MAXY − MINY) / 15  
IF DY = 0 THEN PLTFLG% = 1 DY = 5 END IF MAG = 10 ˆ (INT(LOG(DY) / LOG(10))): DY = DY / MAG IF DY <= 5 THEN DY = 5 ELSE DY = 10 END IF DY = DY * MAG IF INT(MAXX / DX) < > MAXX / DX THEN MAXX = INT(MAXX / DX + 1) * 
DX IF INT(MAXY / DY) < > MAXY / DY THEN MAXY = INT(MAXY / DY + 1) * DY IF INT(MINY / DY) < > MINY / DY THEN MINY = INT(MINY / DY) * DY NUMX = MAXX / DX NUMY = (MAXY - MINY) / DY RETURN 600 
2********************************************************************
****************** ′* GRID AND TITLES * ′******************************************************************** ******************* ′ CLS SCREEN 2 ' 640*200 monochrome graphics KEY OFF ′ FOR J = 0 TO NUMX Z = J * 580 / NUMX + 59 LINE (Z, 10) − (Z, 170) ' vertical grid line Z = J * 71 / NUMX + 7 a = DX * J IF a < > 0 THEN ' adjustment for D = INT(LOG(a) / LOG(10)) + 1 ' large numbers IF D > 1 THEN Z = Z − D + 1 END IF LOCATE 23, Z PRINT a; NEXT J FOR J = 0 TO NUMY Z = J * 160 / NUMY + 10 LINE (60, Z) − (640, Z) ' horizontal grid line Z = 22 − J * 20 / NUMY LOCATE Z, 2 Z = DY * J + MINY AZ = ABS(Z) IF INT(Z) = Z THEN G$ = "######" ELSEIF AZ < .1 THEN G$ = "#.####" ELSEIF AZ >= .1 AND AZ < 1 THEN G$ = "##.###" ELSEIF AZ >= 1 AND AZ < 10 THEN G$ = "###.##" ELSEIF AZ >= 10 AND AZ < 100 THEN G$ = "####.#" ELSE G$ = "######" END IF PRINT USING G$; Z; NEXT J Z = (80 − LEN(TITLE$)) / 2 + 2  
LOCATE 1, Z: PRINT TITLE$ ' print main title  
LOCATE 24, 36: PRINT TX$; ' X axis title LOCATE 8, 1 ' Y FOR J = 1 TO LEN(TY$(PARAM% − 1)) ' axis PRINT MID$(TY$(PARAM% − 1), J, 1) ' title  
NEXT J LOCATE 25, 10: PRINT "1"; ' curve LINE (90, 195) − (130, 195)  
LOCATE 25, 20: PRINT "2"; ' labels FOR J = 0 TO 40 STEP 8 XX = 170 + J PSET (XX, 195) CIRCLE (XX, + 80, 195) , 2 NEXT J LOCATE 25, 30: PRINT "3"; RETURN ′******************************************************************** ********************* ′* PLOTTING ROUTINE * ′******************************************************************** ********************* ′ 1110 FOR J = 1 TO NP XX = 580 * DTA(I, J, 1) / MAXX + 60' calculate pixel X position YY = 170 − 160 * (DTA(I, J, PARAM%) − MINY) / (MAXY − MINY)  
IF J = 1 OR J = NP THEN GOTO 1170 IF I = 1 THEN LINE (XXOLD, YYOLD) − (XX, YY) ' line 1170 XXOLD = XX YYOLD = YY IF I = 2 THEN PSET (XX, YY) ' point IF I = 3 THEN CIRCLE (XX, YY), 2 ' circle NEXT J ' RETURN END SUB REM $STATIC DEFSNG I-L, N SUB PRINTS ′****************************************************************** ′ SUBROUTINE PRINT TO SCREEN AND FILE * ′****************************************************************** ACMDG = 57.3 * ACMD ALF = 57.3 * ALPHA GAM = 57.3 * GM PITCH = ALF + GAM WZX = 1.689 * WZ IF NOSAVE = 0 THEN PRINT #2, SEC, ALT, HDOT, VT, ALF, GAM, PITCH, GREFF, WXDT, WZX, VDOT, WSALERT% FMT1$ = "###.## #### ##### ### ###.# ###.# ###.# ##.# ###.# ###.# ###.# #" PRINT USING FMT1$; SEC, ALT, HDOT, VT, ALF, GAM, PITCH, GREFF, WXDT, WZX, VDOT, WSALERT% END SUB SUB RATES STATIC ′****************************************************************** ′ SUBROUTINE RATES * ′****************************************************************** SNGM = SIN(GM): CSGM = COS(GM): SNAL = SIN(ALPHA): CSAL = COS(ALPHA) VDOT = G * ((THRST * CSAL − DRAG) / WG − SNGM) − WXDT * CSGM − 
WZDT * SNGM GDOT = G * ((LIFT + THRST * SNAL) / WG − CSGM) + WXDT * SNGM − WZDT * CSGM GDOT = GDOT / VT HDOT = 101.28 * (VT * SNGM + WZ) XDOT = VT * CSGM + WX AWX = VDOT + WXDT * CSGM + WZDT * SNGM 'Inertial Acc. along Wind_x axis AWZ = VT * GDOT − WXDT * SNGM + WZDT * CSGN 'Inertial Acc. along Wind_z axis AU = (AWX * CSAL + AWZ * SNAL) / G 'LONG. ACCEL. −>=+ AZ = (AWX * SNGM + AWZ * CSGM) / G 'VERT. ACCEL. UP=+ VG = XDOT GRND = (VT * GM + WZ) / (VT + WX) 'Gamma w/r ground KF1 = 1 GHAT = GMIN * (1 + WX / VT) IF WZ > -30 AND WZ < -20 THEN KF1 = 1 + .025 * (WZ + 20) IF WZ <= -30 THEN KF1 = .75 DGAM = 57.3 * (20 * GDOT − (GHAT − GRND + (1 − KF1) * WZ / 152 + 20 * 
GDOT)) IF DGAM < 0 THEN KF2 = (2 + .4 * DGAM) ELSE  
KF2 = 2 END IF IF KF2 < 0 THEN KF2 = 0 KF2 = KF2 / 57.3 END SUB SUB TAKEOFF STATIC ′******************************************************************** ′ SUBROUTINE INTIALIZE TAKEOFF * ′******************************************************************** IF APPFLG% = 0 THEN ALPHA = .12 WHILE (LIFT <= WG) CALL DRAGS ALPHA = ALPHA + .01 WEND GM = (THRST − DRAG) / WG 'COMPUTE POTENTIAL GAMMA  
ELSE GM = −3 / 57.3 
ALPHA = 2 / 57.3 CALL DRAGS TFCT = 1 CALL THRUST T = DRAG − .052 * WG IF T < 0 THEN T = .2 * THRST TFCT = T / THRST THRST = T END IF GMO = GM CALL RATES END SUB SUB THRUST STATIC ′******************************************************************* ′ SUBROUTINE EPR/THRUST * ′******************************************************************* ′ TAKE-OFF THRUST FOR JT8D-17 ENGINES VE = 1.668 * VT R00 = 14688.74: R01 = −.65187546#: R02 = 6.7371E-05 R10 = −13.9295: R11 = .000751143#: R12 = −1.5405E-07  
R20 = .014643: R21 = 5.3444E-07: R22 = −4.8907E-10 AA0 = (R02 * ALT + R01) * ALT + R00 AA1 = (R12 * ALT + R11) * ALT + R10 AA2 = (R22 * ALT + R21) * ALT + R20 THRST = 2 * ((AA2 * VT + AA1) * VT + AA0) 'Temp. = 100 F IF APPFLG% = 1 THEN  
IF LC% = 1 AND TFCT < 1 THEN GMO = .136 TSPL = 5.5 'Engine Spool Up Time TFCT = TFCT + DT / TSPL END IF IF TFCT > 1 THEN TFCT = 1 ELSE TFCT = 1 END IF THRST = TFCT * THRST ′′ THRST = 2 * (((2.64159E-05 * VT + 5.110896E-03) * VT − 12.56476) * VT + 15550) END SUB SUB VSHAKER STATIC ′------------------------------------ COMPUTATION OF Vss AND V2  
------------------------- V2 = 145 VTO = V2 + 10′ SETS INITAL SPEED EQUAL TO V2 + 10 SELECT CASE FLPS% CASE 10 IF VTO < 150 THEN VTO = 150 ' TAKEOFF CASE 18 IF VTO < 148 THEN VTO = 148 ' FLAP CASE 22 IF VTO < 147 THEN VTO = 147 ' SETTINGS CASE 33 VTO = 63.11225 + .222468 * WG / 1000 ' APPROACH CASE 42 ' FLAP VTO = 62.67386 + .21744 * WG / 1000 ' SETTINGS CASE ELSE END SELECT END SUB SUB WINDS STATIC ′****************************************************************** ′ SUBROUTINE WINDS * ′****************************************************************** ′ IF TDX > 0 THEN T1 = 4 T2 = TSH T3 = T1 + T2 T4 = −4 T5 = T3 + TDX  
T6 = T5 − T4 B1 = 3 * WXDTO / T1 ˆ 2 A1 = −2 * B1 / (3 * T1) B2 = 3 * WXDTO / T4 ˆ 2 A2 = −2 * B2 / (3 * T4) IF SEC > T2 AND SEC < = T3 THEN X = SEC − T2  
WXDT = (A1 * X + B1) * X * X END IF IF SEC > T5 AND SEC < = T6 THEN X = SEC - T6 WXDT = (A2 * X + B2) * X * X END IF IF SEC > T6 THEN WXDT = 0 WX = WX + WXDT * DT END IF IF TDZ > 0 THEN T1 = 4 T2 = TSV T3 = T1 + T2 T4 = − 4  
T5 = T3 + TDZ T6 = T5 − T4 B1 = 3 * WZO / T1 ˆ 2 A1 = −2 * B1 / (3 * T1) B2 = 3 * WZO / T4 ˆ 2 A2 = −2 * B2 / (3 * T4) IF SEC > T2 AND SEC <= T3 THEN X = SEC − T2  
WZ = (A1 * X + B1) * X * X WZC = WZ END IF IF SEC > T5 AND SEC <= T6 THEN X = SEC − T6 WZ = (A2 * X + B2) * X * X WZC = WZ END IF KALT = (−.0000011 * ALT + .00212) * ALT − .0251  
IF KALT < 0 OR ALT <= 0 THEN KALT = 0 KALT = 1 WZ = KALT * WZC IF SEC > T6 THEN WZ = 0 WZDT = (WZ − WZ1) / DT WZ1 = WZ  
END IF IF DFW% = 1 THEN CALL MCRBRST 'DALLAS Model END SUB ˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆ ZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZ
ˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZˆZ 
 